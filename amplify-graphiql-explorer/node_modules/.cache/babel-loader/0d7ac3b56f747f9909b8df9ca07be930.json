{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.defaultValue = defaultValue;\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _graphql = require('graphql');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // TODO: 1. Add default fields recursively\n// TODO: 2. Add default fields for all selections (not just fragments)\n// TODO: 3. Add stylesheet and remove inline styles\n// TODO: 4. Indication of when query in explorer diverges from query in editor pane\n// TODO: 5. Separate section for deprecated args, with support for 'beta' fields\n// TODO: 6. Custom default arg fields\n// Note: Attempted 1. and 2., but they were more annoying than helpful\n\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n} // Names match class names in graphiql app.css\n// https://github.com/graphql/graphiql/blob/master/packages/graphiql/css/app.css\n\n\nvar defaultColors = {\n  keyword: '#B11A04',\n  // OperationName, FragmentName\n  def: '#D2054E',\n  // FieldName\n  property: '#1F61A0',\n  // FieldAlias\n  qualifier: '#1C92A9',\n  // ArgumentName and ObjectFieldName\n  attribute: '#8B2BB9',\n  number: '#2882F9',\n  string: '#D64292',\n  // Boolean\n  builtin: '#D47509',\n  // Enum\n  string2: '#0B7FC7',\n  variable: '#397D13',\n  // Type\n  atom: '#CA9800'\n};\nvar defaultArrowOpen = React.createElement('svg', {\n  width: '12',\n  height: '9'\n}, React.createElement('path', {\n  fill: '#666',\n  d: 'M 0 2 L 9 2 L 4.5 7.5 z'\n}));\nvar defaultArrowClosed = React.createElement('svg', {\n  width: '12',\n  height: '9'\n}, React.createElement('path', {\n  fill: '#666',\n  d: 'M 0 0 L 0 9 L 5.5 4.5 z'\n}));\nvar defaultCheckboxChecked = React.createElement('svg', {\n  style: {\n    marginRight: '3px',\n    marginLeft: '-3px'\n  },\n  width: '12',\n  height: '12',\n  viewBox: '0 0 18 18',\n  fill: 'none',\n  xmlns: 'http://www.w3.org/2000/svg'\n}, React.createElement('path', {\n  d: 'M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM14.99 6L13.58 4.58L6.99 11.17L4.41 8.6L2.99 10.01L6.99 14L14.99 6Z',\n  fill: '#666'\n}));\nvar defaultCheckboxUnchecked = React.createElement('svg', {\n  style: {\n    marginRight: '3px',\n    marginLeft: '-3px'\n  },\n  width: '12',\n  height: '12',\n  viewBox: '0 0 18 18',\n  fill: 'none',\n  xmlns: 'http://www.w3.org/2000/svg'\n}, React.createElement('path', {\n  d: 'M16 2V16H2V2H16ZM16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z',\n  fill: '#CCC'\n}));\n\nfunction Checkbox(props) {\n  return props.checked ? props.styleConfig.checkboxChecked : props.styleConfig.checkboxUnchecked;\n}\n\nfunction defaultGetDefaultFieldNames(type) {\n  var fields = type.getFields(); // Is there an `id` field?\n\n  if (fields['id']) {\n    var res = ['id'];\n\n    if (fields['email']) {\n      res.push('email');\n    } else if (fields['name']) {\n      res.push('name');\n    }\n\n    return res;\n  } // Is there an `edges` field?\n\n\n  if (fields['edges']) {\n    return ['edges'];\n  } // Is there an `node` field?\n\n\n  if (fields['node']) {\n    return ['node'];\n  }\n\n  if (fields['nodes']) {\n    return ['nodes'];\n  } // Include all leaf-type fields.\n\n\n  var leafFieldNames = [];\n  Object.keys(fields).forEach(function (fieldName) {\n    if ((0, _graphql.isLeafType)(fields[fieldName].type)) {\n      leafFieldNames.push(fieldName);\n    }\n  });\n\n  if (!leafFieldNames.length) {\n    // No leaf fields, add typename so that the query stays valid\n    return ['__typename'];\n  }\n\n  return leafFieldNames.slice(0, 2); // Prevent too many fields from being added\n}\n\nfunction isRequiredArgument(arg) {\n  return (0, _graphql.isNonNullType)(arg.type) && arg.defaultValue === undefined;\n}\n\nfunction unwrapOutputType(outputType) {\n  var unwrappedType = outputType;\n\n  while ((0, _graphql.isWrappingType)(unwrappedType)) {\n    unwrappedType = unwrappedType.ofType;\n  }\n\n  return unwrappedType;\n}\n\nfunction unwrapInputType(inputType) {\n  var unwrappedType = inputType;\n\n  while ((0, _graphql.isWrappingType)(unwrappedType)) {\n    unwrappedType = unwrappedType.ofType;\n  }\n\n  return unwrappedType;\n}\n\nfunction coerceArgValue(argType, value) {\n  // Handle the case where we're setting a variable as the value\n  if (typeof value !== 'string' && value.kind === 'VariableDefinition') {\n    return value.variable;\n  } else if ((0, _graphql.isScalarType)(argType)) {\n    try {\n      switch (argType.name) {\n        case 'String':\n          return {\n            kind: 'StringValue',\n            value: String(argType.parseValue(value))\n          };\n\n        case 'Float':\n          return {\n            kind: 'FloatValue',\n            value: String(argType.parseValue(parseFloat(value)))\n          };\n\n        case 'Int':\n          return {\n            kind: 'IntValue',\n            value: String(argType.parseValue(parseInt(value, 10)))\n          };\n\n        case 'Boolean':\n          try {\n            var parsed = JSON.parse(value);\n\n            if (typeof parsed === 'boolean') {\n              return {\n                kind: 'BooleanValue',\n                value: parsed\n              };\n            } else {\n              return {\n                kind: 'BooleanValue',\n                value: false\n              };\n            }\n          } catch (e) {\n            return {\n              kind: 'BooleanValue',\n              value: false\n            };\n          }\n\n        default:\n          return {\n            kind: 'StringValue',\n            value: String(argType.parseValue(value))\n          };\n      }\n    } catch (e) {\n      console.error('error coercing arg value', e, value);\n      return {\n        kind: 'StringValue',\n        value: value\n      };\n    }\n  } else {\n    try {\n      var parsedValue = argType.parseValue(value);\n\n      if (parsedValue) {\n        return {\n          kind: 'EnumValue',\n          value: String(parsedValue)\n        };\n      } else {\n        return {\n          kind: 'EnumValue',\n          value: argType.getValues()[0].name\n        };\n      }\n    } catch (e) {\n      return {\n        kind: 'EnumValue',\n        value: argType.getValues()[0].name\n      };\n    }\n  }\n}\n\nvar InputArgView = function (_React$PureComponent) {\n  _inherits(InputArgView, _React$PureComponent);\n\n  function InputArgView() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, InputArgView);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = InputArgView.__proto__ || Object.getPrototypeOf(InputArgView)).call.apply(_ref, [this].concat(args))), _this), _this._getArgSelection = function () {\n      return _this.props.selection.fields.find(function (field) {\n        return field.name.value === _this.props.arg.name;\n      });\n    }, _this._removeArg = function () {\n      var selection = _this.props.selection;\n\n      var argSelection = _this._getArgSelection();\n\n      _this._previousArgSelection = argSelection;\n\n      _this.props.modifyFields(selection.fields.filter(function (field) {\n        return field !== argSelection;\n      }), true);\n    }, _this._addArg = function () {\n      var _this$props = _this.props,\n          selection = _this$props.selection,\n          arg = _this$props.arg,\n          getDefaultScalarArgValue = _this$props.getDefaultScalarArgValue,\n          parentField = _this$props.parentField,\n          makeDefaultArg = _this$props.makeDefaultArg;\n      var argType = unwrapInputType(arg.type);\n      var argSelection = null;\n\n      if (_this._previousArgSelection) {\n        argSelection = _this._previousArgSelection;\n      } else if ((0, _graphql.isInputObjectType)(argType)) {\n        var _fields = argType.getFields();\n\n        argSelection = {\n          kind: 'ObjectField',\n          name: {\n            kind: 'Name',\n            value: arg.name\n          },\n          value: {\n            kind: 'ObjectValue',\n            fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, Object.keys(_fields).map(function (k) {\n              return _fields[k];\n            }))\n          }\n        };\n      } else if ((0, _graphql.isLeafType)(argType)) {\n        argSelection = {\n          kind: 'ObjectField',\n          name: {\n            kind: 'Name',\n            value: arg.name\n          },\n          value: getDefaultScalarArgValue(parentField, arg, argType)\n        };\n      }\n\n      if (!argSelection) {\n        console.error('Unable to add arg for argType', argType);\n      } else {\n        return _this.props.modifyFields([].concat(_toConsumableArray(selection.fields || []), [argSelection]), true);\n      }\n    }, _this._setArgValue = function (event, options) {\n      var settingToNull = false;\n      var settingToVariable = false;\n      var settingToLiteralValue = false;\n\n      try {\n        if (event.kind === 'VariableDefinition') {\n          settingToVariable = true;\n        } else if (event === null || typeof event === 'undefined') {\n          settingToNull = true;\n        } else if (typeof event.kind === 'string') {\n          settingToLiteralValue = true;\n        }\n      } catch (e) {}\n\n      var selection = _this.props.selection;\n\n      var argSelection = _this._getArgSelection();\n\n      if (!argSelection) {\n        console.error('missing arg selection when setting arg value');\n        return;\n      }\n\n      var argType = unwrapInputType(_this.props.arg.type);\n      var handleable = (0, _graphql.isLeafType)(argType) || settingToVariable || settingToNull || settingToLiteralValue;\n\n      if (!handleable) {\n        console.warn('Unable to handle non leaf types in InputArgView.setArgValue', event);\n        return;\n      }\n\n      var targetValue = void 0;\n      var value = void 0;\n\n      if (event === null || typeof event === 'undefined') {\n        value = null;\n      } else if (!event.target && !!event.kind && event.kind === 'VariableDefinition') {\n        targetValue = event;\n        value = targetValue.variable;\n      } else if (typeof event.kind === 'string') {\n        value = event;\n      } else if (event.target && typeof event.target.value === 'string') {\n        targetValue = event.target.value;\n        value = coerceArgValue(argType, targetValue);\n      }\n\n      var newDoc = _this.props.modifyFields((selection.fields || []).map(function (field) {\n        var isTarget = field === argSelection;\n        var newField = isTarget ? _extends({}, field, {\n          value: value\n        }) : field;\n        return newField;\n      }), options);\n\n      return newDoc;\n    }, _this._modifyChildFields = function (fields) {\n      return _this.props.modifyFields(_this.props.selection.fields.map(function (field) {\n        return field.name.value === _this.props.arg.name ? _extends({}, field, {\n          value: {\n            kind: 'ObjectValue',\n            fields: fields\n          }\n        }) : field;\n      }), true);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(InputArgView, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          arg = _props.arg,\n          parentField = _props.parentField;\n\n      var argSelection = this._getArgSelection();\n\n      return React.createElement(AbstractArgView, {\n        argValue: argSelection ? argSelection.value : null,\n        arg: arg,\n        parentField: parentField,\n        addArg: this._addArg,\n        removeArg: this._removeArg,\n        setArgFields: this._modifyChildFields,\n        setArgValue: this._setArgValue,\n        getDefaultScalarArgValue: this.props.getDefaultScalarArgValue,\n        makeDefaultArg: this.props.makeDefaultArg,\n        onRunOperation: this.props.onRunOperation,\n        styleConfig: this.props.styleConfig,\n        onCommit: this.props.onCommit,\n        definition: this.props.definition\n      });\n    }\n  }]);\n\n  return InputArgView;\n}(React.PureComponent);\n\nfunction defaultValue(argType) {\n  if ((0, _graphql.isEnumType)(argType)) {\n    return {\n      kind: 'EnumValue',\n      value: argType.getValues()[0].name\n    };\n  } else {\n    switch (argType.name) {\n      case 'String':\n        return {\n          kind: 'StringValue',\n          value: ''\n        };\n\n      case 'Float':\n        return {\n          kind: 'FloatValue',\n          value: '1.5'\n        };\n\n      case 'Int':\n        return {\n          kind: 'IntValue',\n          value: '10'\n        };\n\n      case 'Boolean':\n        return {\n          kind: 'BooleanValue',\n          value: false\n        };\n\n      default:\n        return {\n          kind: 'StringValue',\n          value: ''\n        };\n    }\n  }\n}\n\nfunction defaultGetDefaultScalarArgValue(parentField, arg, argType) {\n  return defaultValue(argType);\n}\n\nvar ArgView = function (_React$PureComponent2) {\n  _inherits(ArgView, _React$PureComponent2);\n\n  function ArgView() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, ArgView);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = ArgView.__proto__ || Object.getPrototypeOf(ArgView)).call.apply(_ref2, [this].concat(args))), _this2), _this2._getArgSelection = function () {\n      var selection = _this2.props.selection;\n      return (selection.arguments || []).find(function (arg) {\n        return arg.name.value === _this2.props.arg.name;\n      });\n    }, _this2._removeArg = function (commit) {\n      var selection = _this2.props.selection;\n\n      var argSelection = _this2._getArgSelection();\n\n      _this2._previousArgSelection = argSelection;\n      return _this2.props.modifyArguments((selection.arguments || []).filter(function (arg) {\n        return arg !== argSelection;\n      }), commit);\n    }, _this2._addArg = function (commit) {\n      var _this2$props = _this2.props,\n          selection = _this2$props.selection,\n          getDefaultScalarArgValue = _this2$props.getDefaultScalarArgValue,\n          makeDefaultArg = _this2$props.makeDefaultArg,\n          parentField = _this2$props.parentField,\n          arg = _this2$props.arg;\n      var argType = unwrapInputType(arg.type);\n      var argSelection = null;\n\n      if (_this2._previousArgSelection) {\n        argSelection = _this2._previousArgSelection;\n      } else if ((0, _graphql.isInputObjectType)(argType)) {\n        var _fields2 = argType.getFields();\n\n        argSelection = {\n          kind: 'Argument',\n          name: {\n            kind: 'Name',\n            value: arg.name\n          },\n          value: {\n            kind: 'ObjectValue',\n            fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, Object.keys(_fields2).map(function (k) {\n              return _fields2[k];\n            }))\n          }\n        };\n      } else if ((0, _graphql.isLeafType)(argType)) {\n        argSelection = {\n          kind: 'Argument',\n          name: {\n            kind: 'Name',\n            value: arg.name\n          },\n          value: getDefaultScalarArgValue(parentField, arg, argType)\n        };\n      }\n\n      if (!argSelection) {\n        console.error('Unable to add arg for argType', argType);\n        return null;\n      } else {\n        return _this2.props.modifyArguments([].concat(_toConsumableArray(selection.arguments || []), [argSelection]), commit);\n      }\n    }, _this2._setArgValue = function (event, options) {\n      var settingToNull = false;\n      var settingToVariable = false;\n      var settingToLiteralValue = false;\n\n      try {\n        if (event.kind === 'VariableDefinition') {\n          settingToVariable = true;\n        } else if (event === null || typeof event === 'undefined') {\n          settingToNull = true;\n        } else if (typeof event.kind === 'string') {\n          settingToLiteralValue = true;\n        }\n      } catch (e) {}\n\n      var selection = _this2.props.selection;\n\n      var argSelection = _this2._getArgSelection();\n\n      if (!argSelection && !settingToVariable) {\n        console.error('missing arg selection when setting arg value');\n        return;\n      }\n\n      var argType = unwrapInputType(_this2.props.arg.type);\n      var handleable = (0, _graphql.isLeafType)(argType) || settingToVariable || settingToNull || settingToLiteralValue;\n\n      if (!handleable) {\n        console.warn('Unable to handle non leaf types in ArgView._setArgValue');\n        return;\n      }\n\n      var targetValue = void 0;\n      var value = void 0;\n\n      if (event === null || typeof event === 'undefined') {\n        value = null;\n      } else if (event.target && typeof event.target.value === 'string') {\n        targetValue = event.target.value;\n        value = coerceArgValue(argType, targetValue);\n      } else if (!event.target && event.kind === 'VariableDefinition') {\n        targetValue = event;\n        value = targetValue.variable;\n      } else if (typeof event.kind === 'string') {\n        value = event;\n      }\n\n      return _this2.props.modifyArguments((selection.arguments || []).map(function (a) {\n        return a === argSelection ? _extends({}, a, {\n          value: value\n        }) : a;\n      }), options);\n    }, _this2._setArgFields = function (fields, commit) {\n      var selection = _this2.props.selection;\n\n      var argSelection = _this2._getArgSelection();\n\n      if (!argSelection) {\n        console.error('missing arg selection when setting arg value');\n        return;\n      }\n\n      return _this2.props.modifyArguments((selection.arguments || []).map(function (a) {\n        return a === argSelection ? _extends({}, a, {\n          value: {\n            kind: 'ObjectValue',\n            fields: fields\n          }\n        }) : a;\n      }), commit);\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(ArgView, [{\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          arg = _props2.arg,\n          parentField = _props2.parentField;\n\n      var argSelection = this._getArgSelection();\n\n      return React.createElement(AbstractArgView, {\n        argValue: argSelection ? argSelection.value : null,\n        arg: arg,\n        parentField: parentField,\n        addArg: this._addArg,\n        removeArg: this._removeArg,\n        setArgFields: this._setArgFields,\n        setArgValue: this._setArgValue,\n        getDefaultScalarArgValue: this.props.getDefaultScalarArgValue,\n        makeDefaultArg: this.props.makeDefaultArg,\n        onRunOperation: this.props.onRunOperation,\n        styleConfig: this.props.styleConfig,\n        onCommit: this.props.onCommit,\n        definition: this.props.definition\n      });\n    }\n  }]);\n\n  return ArgView;\n}(React.PureComponent);\n\nfunction isRunShortcut(event) {\n  return event.ctrlKey && event.key === 'Enter';\n}\n\nfunction canRunOperation(operationName) {\n  // it does not make sense to try to execute a fragment\n  return operationName !== 'FragmentDefinition';\n}\n\nvar ScalarInput = function (_React$PureComponent3) {\n  _inherits(ScalarInput, _React$PureComponent3);\n\n  function ScalarInput() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, ScalarInput);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = ScalarInput.__proto__ || Object.getPrototypeOf(ScalarInput)).call.apply(_ref3, [this].concat(args))), _this3), _this3._handleChange = function (event) {\n      _this3.props.setArgValue(event, true);\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(ScalarInput, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var input = this._ref;\n      var activeElement = document.activeElement;\n\n      if (input && activeElement && !(activeElement instanceof HTMLTextAreaElement)) {\n        input.focus();\n        input.setSelectionRange(0, input.value.length);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props3 = this.props,\n          arg = _props3.arg,\n          argValue = _props3.argValue,\n          styleConfig = _props3.styleConfig;\n      var argType = unwrapInputType(arg.type);\n      var value = typeof argValue.value === 'string' ? argValue.value : '';\n      var color = this.props.argValue.kind === 'StringValue' ? styleConfig.colors.string : styleConfig.colors.number;\n      return React.createElement('span', {\n        style: {\n          color: color\n        }\n      }, argType.name === 'String' ? '\"' : '', React.createElement('input', {\n        style: {\n          border: 'none',\n          borderBottom: '1px solid #888',\n          outline: 'none',\n          width: Math.max(1, Math.min(15, value.length)) + 'ch',\n          color: color\n        },\n        ref: function ref(_ref4) {\n          _this4._ref = _ref4;\n        },\n        type: 'text',\n        onChange: this._handleChange,\n        value: value\n      }), argType.name === 'String' ? '\"' : '');\n    }\n  }]);\n\n  return ScalarInput;\n}(React.PureComponent);\n\nvar AbstractArgView = function (_React$PureComponent4) {\n  _inherits(AbstractArgView, _React$PureComponent4);\n\n  function AbstractArgView() {\n    var _ref5;\n\n    var _temp4, _this5, _ret4;\n\n    _classCallCheck(this, AbstractArgView);\n\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return _ret4 = (_temp4 = (_this5 = _possibleConstructorReturn(this, (_ref5 = AbstractArgView.__proto__ || Object.getPrototypeOf(AbstractArgView)).call.apply(_ref5, [this].concat(args))), _this5), _this5.state = {\n      displayArgActions: false\n    }, _temp4), _possibleConstructorReturn(_this5, _ret4);\n  }\n\n  _createClass(AbstractArgView, [{\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      var _props4 = this.props,\n          argValue = _props4.argValue,\n          arg = _props4.arg,\n          styleConfig = _props4.styleConfig;\n      /* TODO: handle List types*/\n\n      var argType = unwrapInputType(arg.type);\n      var input = null;\n\n      if (argValue) {\n        if (argValue.kind === 'Variable') {\n          input = React.createElement('span', {\n            style: {\n              color: styleConfig.colors.variable\n            }\n          }, '$', argValue.name.value);\n        } else if ((0, _graphql.isScalarType)(argType)) {\n          if (argType.name === 'Boolean') {\n            input = React.createElement('select', {\n              style: {\n                color: styleConfig.colors.builtin\n              },\n              onChange: this.props.setArgValue,\n              value: argValue.kind === 'BooleanValue' ? argValue.value : undefined\n            }, React.createElement('option', {\n              key: 'true',\n              value: 'true'\n            }, 'true'), React.createElement('option', {\n              key: 'false',\n              value: 'false'\n            }, 'false'));\n          } else {\n            input = React.createElement(ScalarInput, {\n              setArgValue: this.props.setArgValue,\n              arg: arg,\n              argValue: argValue,\n              onRunOperation: this.props.onRunOperation,\n              styleConfig: this.props.styleConfig\n            });\n          }\n        } else if ((0, _graphql.isEnumType)(argType)) {\n          if (argValue.kind === 'EnumValue') {\n            input = React.createElement('select', {\n              style: {\n                backgroundColor: 'white',\n                color: styleConfig.colors.string2\n              },\n              onChange: this.props.setArgValue,\n              value: argValue.value\n            }, argType.getValues().map(function (value) {\n              return React.createElement('option', {\n                key: value.name,\n                value: value.name\n              }, value.name);\n            }));\n          } else {\n            console.error('arg mismatch between arg and selection', argType, argValue);\n          }\n        } else if ((0, _graphql.isInputObjectType)(argType)) {\n          if (argValue.kind === 'ObjectValue') {\n            var _fields3 = argType.getFields();\n\n            input = React.createElement('div', {\n              style: {\n                marginLeft: 16\n              }\n            }, Object.keys(_fields3).sort().map(function (fieldName) {\n              return React.createElement(InputArgView, {\n                key: fieldName,\n                arg: _fields3[fieldName],\n                parentField: _this6.props.parentField,\n                selection: argValue,\n                modifyFields: _this6.props.setArgFields,\n                getDefaultScalarArgValue: _this6.props.getDefaultScalarArgValue,\n                makeDefaultArg: _this6.props.makeDefaultArg,\n                onRunOperation: _this6.props.onRunOperation,\n                styleConfig: _this6.props.styleConfig,\n                onCommit: _this6.props.onCommit,\n                definition: _this6.props.definition\n              });\n            }));\n          } else {\n            console.error('arg mismatch between arg and selection', argType, argValue);\n          }\n        }\n      }\n\n      var variablize = function variablize() {\n        /**\n        1. Find current operation variables\n        2. Find current arg value\n        3. Create a new variable\n        4. Replace current arg value with variable\n        5. Add variable to operation\n        */\n        var baseVariableName = arg.name;\n        var conflictingNameCount = (_this6.props.definition.variableDefinitions || []).filter(function (varDef) {\n          return varDef.variable.name.value.startsWith(baseVariableName);\n        }).length;\n        var variableName = void 0;\n\n        if (conflictingNameCount > 0) {\n          variableName = '' + baseVariableName + conflictingNameCount;\n        } else {\n          variableName = baseVariableName;\n        } // To get an AST definition of our variable from the instantiated arg,\n        // we print it to a string, then parseType to get our AST.\n\n\n        var argPrintedType = arg.type.toString();\n        var argType = (0, _graphql.parseType)(argPrintedType);\n        var base = {\n          kind: 'VariableDefinition',\n          variable: {\n            kind: 'Variable',\n            name: {\n              kind: 'Name',\n              value: variableName\n            }\n          },\n          type: argType,\n          directives: []\n        };\n\n        var variableDefinitionByName = function variableDefinitionByName(name) {\n          return (_this6.props.definition.variableDefinitions || []).find(function (varDef) {\n            return varDef.variable.name.value === name;\n          });\n        };\n\n        var variable = void 0;\n        var subVariableUsageCountByName = {};\n\n        if (typeof argValue !== 'undefined' && argValue !== null) {\n          /** In the process of devariabilizing descendent selections,\n           * we may have caused their variable definitions to become unused.\n           * Keep track and remove any variable definitions with 1 or fewer usages.\n           * */\n          var cleanedDefaultValue = (0, _graphql.visit)(argValue, {\n            Variable: function Variable(node) {\n              var varName = node.name.value;\n              var varDef = variableDefinitionByName(varName);\n              subVariableUsageCountByName[varName] = subVariableUsageCountByName[varName] + 1 || 1;\n\n              if (!varDef) {\n                return;\n              }\n\n              return varDef.defaultValue;\n            }\n          });\n          var isNonNullable = base.type.kind === 'NonNullType'; // We're going to give the variable definition a default value, so we must make its type nullable\n\n          var unwrappedBase = isNonNullable ? _extends({}, base, {\n            type: base.type.type\n          }) : base;\n          variable = _extends({}, unwrappedBase, {\n            defaultValue: cleanedDefaultValue\n          });\n        } else {\n          variable = base;\n        }\n\n        var newlyUnusedVariables = Object.entries(subVariableUsageCountByName) // $FlowFixMe: Can't get Object.entries to realize usageCount *must* be a number\n        .filter(function (_ref6) {\n          var _ref7 = _slicedToArray(_ref6, 2),\n              _ = _ref7[0],\n              usageCount = _ref7[1];\n\n          return usageCount < 2;\n        }).map(function (_ref8) {\n          var _ref9 = _slicedToArray(_ref8, 2),\n              varName = _ref9[0],\n              _ = _ref9[1];\n\n          return varName;\n        });\n\n        if (variable) {\n          var _newDoc = _this6.props.setArgValue(variable, false);\n\n          if (_newDoc) {\n            var targetOperation = _newDoc.definitions.find(function (definition) {\n              if (!!definition.operation && !!definition.name && !!definition.name.value && //\n              !!_this6.props.definition.name && !!_this6.props.definition.name.value) {\n                return definition.name.value === _this6.props.definition.name.value;\n              } else {\n                return false;\n              }\n            });\n\n            var newVariableDefinitions = [].concat(_toConsumableArray(targetOperation.variableDefinitions || []), [variable]).filter(function (varDef) {\n              return newlyUnusedVariables.indexOf(varDef.variable.name.value) === -1;\n            });\n\n            var newOperation = _extends({}, targetOperation, {\n              variableDefinitions: newVariableDefinitions\n            });\n\n            var existingDefs = _newDoc.definitions;\n            var newDefinitions = existingDefs.map(function (existingOperation) {\n              if (targetOperation === existingOperation) {\n                return newOperation;\n              } else {\n                return existingOperation;\n              }\n            });\n\n            var finalDoc = _extends({}, _newDoc, {\n              definitions: newDefinitions\n            });\n\n            _this6.props.onCommit(finalDoc);\n          }\n        }\n      };\n\n      var devariablize = function devariablize() {\n        /**\n         * 1. Find the current variable definition in the operation def\n         * 2. Extract its value\n         * 3. Replace the current arg value\n         * 4. Visit the resulting operation to see if there are any other usages of the variable\n         * 5. If not, remove the variableDefinition\n         */\n        if (!argValue || !argValue.name || !argValue.name.value) {\n          return;\n        }\n\n        var variableName = argValue.name.value;\n        var variableDefinition = (_this6.props.definition.variableDefinitions || []).find(function (varDef) {\n          return varDef.variable.name.value === variableName;\n        });\n\n        if (!variableDefinition) {\n          return;\n        }\n\n        var defaultValue = variableDefinition.defaultValue;\n\n        var newDoc = _this6.props.setArgValue(defaultValue, {\n          commit: false\n        });\n\n        if (newDoc) {\n          var targetOperation = newDoc.definitions.find(function (definition) {\n            return definition.name.value === _this6.props.definition.name.value;\n          });\n\n          if (!targetOperation) {\n            return;\n          } // After de-variabilizing, see if the variable is still in use. If not, remove it.\n\n\n          var variableUseCount = 0;\n          (0, _graphql.visit)(targetOperation, {\n            Variable: function Variable(node) {\n              if (node.name.value === variableName) {\n                variableUseCount = variableUseCount + 1;\n              }\n            }\n          });\n          var newVariableDefinitions = targetOperation.variableDefinitions || []; // A variable is in use if it shows up at least twice (once in the definition, once in the selection)\n\n          if (variableUseCount < 2) {\n            newVariableDefinitions = newVariableDefinitions.filter(function (varDef) {\n              return varDef.variable.name.value !== variableName;\n            });\n          }\n\n          var newOperation = _extends({}, targetOperation, {\n            variableDefinitions: newVariableDefinitions\n          });\n\n          var existingDefs = newDoc.definitions;\n          var newDefinitions = existingDefs.map(function (existingOperation) {\n            if (targetOperation === existingOperation) {\n              return newOperation;\n            } else {\n              return existingOperation;\n            }\n          });\n\n          var finalDoc = _extends({}, newDoc, {\n            definitions: newDefinitions\n          });\n\n          _this6.props.onCommit(finalDoc);\n        }\n      };\n\n      var isArgValueVariable = argValue && argValue.kind === 'Variable';\n      var variablizeActionButton = !this.state.displayArgActions ? null : React.createElement('button', {\n        type: 'submit',\n        className: 'toolbar-button',\n        title: isArgValueVariable ? 'Remove the variable' : 'Extract the current value into a GraphQL variable',\n        onClick: function onClick(event) {\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (isArgValueVariable) {\n            devariablize();\n          } else {\n            variablize();\n          }\n        },\n        style: styleConfig.styles.actionButtonStyle\n      }, React.createElement('span', {\n        style: {\n          color: styleConfig.colors.variable\n        }\n      }, '$'));\n      return React.createElement('div', {\n        style: {\n          cursor: 'pointer',\n          minHeight: '16px',\n          WebkitUserSelect: 'none',\n          userSelect: 'none'\n        },\n        'data-arg-name': arg.name,\n        'data-arg-type': argType.name,\n        className: 'graphiql-explorer-' + arg.name\n      }, React.createElement('span', {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick(event) {\n          var shouldAdd = !argValue;\n\n          if (shouldAdd) {\n            _this6.props.addArg(true);\n          } else {\n            _this6.props.removeArg(true);\n          }\n\n          _this6.setState({\n            displayArgActions: shouldAdd\n          });\n        }\n      }, (0, _graphql.isInputObjectType)(argType) ? React.createElement('span', null, !!argValue ? this.props.styleConfig.arrowOpen : this.props.styleConfig.arrowClosed) : React.createElement(Checkbox, {\n        checked: !!argValue,\n        styleConfig: this.props.styleConfig\n      }), React.createElement('span', {\n        style: {\n          color: styleConfig.colors.attribute\n        },\n        title: arg.description,\n        onMouseEnter: function onMouseEnter() {\n          // Make implementation a bit easier and only show 'variablize' action if arg is already added\n          if (argValue !== null && typeof argValue !== 'undefined') {\n            _this6.setState({\n              displayArgActions: true\n            });\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this6.setState({\n            displayArgActions: false\n          });\n        }\n      }, arg.name, isRequiredArgument(arg) ? '*' : '', ': ', variablizeActionButton, ' '), ' '), input || React.createElement('span', null), ' ');\n    }\n  }]);\n\n  return AbstractArgView;\n}(React.PureComponent);\n\nvar AbstractView = function (_React$PureComponent5) {\n  _inherits(AbstractView, _React$PureComponent5);\n\n  function AbstractView() {\n    var _ref10;\n\n    var _temp5, _this7, _ret5;\n\n    _classCallCheck(this, AbstractView);\n\n    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return _ret5 = (_temp5 = (_this7 = _possibleConstructorReturn(this, (_ref10 = AbstractView.__proto__ || Object.getPrototypeOf(AbstractView)).call.apply(_ref10, [this].concat(args))), _this7), _this7._addFragment = function () {\n      _this7.props.modifySelections([].concat(_toConsumableArray(_this7.props.selections), [_this7._previousSelection || {\n        kind: 'InlineFragment',\n        typeCondition: {\n          kind: 'NamedType',\n          name: {\n            kind: 'Name',\n            value: _this7.props.implementingType.name\n          }\n        },\n        selectionSet: {\n          kind: 'SelectionSet',\n          selections: _this7.props.getDefaultFieldNames(_this7.props.implementingType).map(function (fieldName) {\n            return {\n              kind: 'Field',\n              name: {\n                kind: 'Name',\n                value: fieldName\n              }\n            };\n          })\n        }\n      }]));\n    }, _this7._removeFragment = function () {\n      var thisSelection = _this7._getSelection();\n\n      _this7._previousSelection = thisSelection;\n\n      _this7.props.modifySelections(_this7.props.selections.filter(function (s) {\n        return s !== thisSelection;\n      }));\n    }, _this7._getSelection = function () {\n      var selection = _this7.props.selections.find(function (selection) {\n        return selection.kind === 'InlineFragment' && selection.typeCondition && _this7.props.implementingType.name === selection.typeCondition.name.value;\n      });\n\n      if (!selection) {\n        return null;\n      }\n\n      if (selection.kind === 'InlineFragment') {\n        return selection;\n      }\n    }, _this7._modifyChildSelections = function (selections, options) {\n      var thisSelection = _this7._getSelection();\n\n      return _this7.props.modifySelections(_this7.props.selections.map(function (selection) {\n        if (selection === thisSelection) {\n          return {\n            directives: selection.directives,\n            kind: 'InlineFragment',\n            typeCondition: {\n              kind: 'NamedType',\n              name: {\n                kind: 'Name',\n                value: _this7.props.implementingType.name\n              }\n            },\n            selectionSet: {\n              kind: 'SelectionSet',\n              selections: selections\n            }\n          };\n        }\n\n        return selection;\n      }), options);\n    }, _temp5), _possibleConstructorReturn(_this7, _ret5);\n  }\n\n  _createClass(AbstractView, [{\n    key: 'render',\n    value: function render() {\n      var _this8 = this;\n\n      var _props5 = this.props,\n          implementingType = _props5.implementingType,\n          schema = _props5.schema,\n          getDefaultFieldNames = _props5.getDefaultFieldNames,\n          styleConfig = _props5.styleConfig;\n\n      var selection = this._getSelection();\n\n      var fields = implementingType.getFields();\n      var childSelections = selection ? selection.selectionSet ? selection.selectionSet.selections : [] : [];\n      return React.createElement('div', {\n        className: 'graphiql-explorer-' + implementingType.name\n      }, React.createElement('span', {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: selection ? this._removeFragment : this._addFragment\n      }, React.createElement(Checkbox, {\n        checked: !!selection,\n        styleConfig: this.props.styleConfig\n      }), React.createElement('span', {\n        style: {\n          color: styleConfig.colors.atom\n        }\n      }, this.props.implementingType.name)), selection ? React.createElement('div', {\n        style: {\n          marginLeft: 16\n        }\n      }, Object.keys(fields).sort().map(function (fieldName) {\n        return React.createElement(FieldView, {\n          key: fieldName,\n          field: fields[fieldName],\n          selections: childSelections,\n          modifySelections: _this8._modifyChildSelections,\n          schema: schema,\n          getDefaultFieldNames: getDefaultFieldNames,\n          getDefaultScalarArgValue: _this8.props.getDefaultScalarArgValue,\n          makeDefaultArg: _this8.props.makeDefaultArg,\n          onRunOperation: _this8.props.onRunOperation,\n          onCommit: _this8.props.onCommit,\n          styleConfig: _this8.props.styleConfig,\n          definition: _this8.props.definition,\n          availableFragments: _this8.props.availableFragments\n        });\n      })) : null);\n    }\n  }]);\n\n  return AbstractView;\n}(React.PureComponent);\n\nvar FragmentView = function (_React$PureComponent6) {\n  _inherits(FragmentView, _React$PureComponent6);\n\n  function FragmentView() {\n    var _ref11;\n\n    var _temp6, _this9, _ret6;\n\n    _classCallCheck(this, FragmentView);\n\n    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return _ret6 = (_temp6 = (_this9 = _possibleConstructorReturn(this, (_ref11 = FragmentView.__proto__ || Object.getPrototypeOf(FragmentView)).call.apply(_ref11, [this].concat(args))), _this9), _this9._addFragment = function () {\n      _this9.props.modifySelections([].concat(_toConsumableArray(_this9.props.selections), [_this9._previousSelection || {\n        kind: 'FragmentSpread',\n        name: _this9.props.fragment.name\n      }]));\n    }, _this9._removeFragment = function () {\n      var thisSelection = _this9._getSelection();\n\n      _this9._previousSelection = thisSelection;\n\n      _this9.props.modifySelections(_this9.props.selections.filter(function (s) {\n        var isTargetSelection = s.kind === 'FragmentSpread' && s.name.value === _this9.props.fragment.name.value;\n        return !isTargetSelection;\n      }));\n    }, _this9._getSelection = function () {\n      var selection = _this9.props.selections.find(function (selection) {\n        return selection.kind === 'FragmentSpread' && selection.name.value === _this9.props.fragment.name.value;\n      });\n\n      return selection;\n    }, _temp6), _possibleConstructorReturn(_this9, _ret6);\n  }\n\n  _createClass(FragmentView, [{\n    key: 'render',\n    value: function render() {\n      var styleConfig = this.props.styleConfig;\n\n      var selection = this._getSelection();\n\n      return React.createElement('div', {\n        className: 'graphiql-explorer-' + this.props.fragment.name.value\n      }, React.createElement('span', {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: selection ? this._removeFragment : this._addFragment\n      }, React.createElement(Checkbox, {\n        checked: !!selection,\n        styleConfig: this.props.styleConfig\n      }), React.createElement('span', {\n        style: {\n          color: styleConfig.colors.def\n        },\n        className: 'graphiql-explorer-' + this.props.fragment.name.value\n      }, this.props.fragment.name.value)));\n    }\n  }]);\n\n  return FragmentView;\n}(React.PureComponent);\n\nfunction defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, fields) {\n  var nodes = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _field = _step.value;\n\n      if ((0, _graphql.isRequiredInputField)(_field) || makeDefaultArg && makeDefaultArg(parentField, _field)) {\n        var fieldType = unwrapInputType(_field.type);\n\n        if ((0, _graphql.isInputObjectType)(fieldType)) {\n          (function () {\n            var fields = fieldType.getFields();\n            nodes.push({\n              kind: 'ObjectField',\n              name: {\n                kind: 'Name',\n                value: _field.name\n              },\n              value: {\n                kind: 'ObjectValue',\n                fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, Object.keys(fields).map(function (k) {\n                  return fields[k];\n                }))\n              }\n            });\n          })();\n        } else if ((0, _graphql.isLeafType)(fieldType)) {\n          nodes.push({\n            kind: 'ObjectField',\n            name: {\n              kind: 'Name',\n              value: _field.name\n            },\n            value: getDefaultScalarArgValue(parentField, _field, fieldType)\n          });\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return nodes;\n}\n\nfunction defaultArgs(getDefaultScalarArgValue, makeDefaultArg, field) {\n  var args = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = field.args[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _arg = _step2.value;\n\n      if (isRequiredArgument(_arg) || makeDefaultArg && makeDefaultArg(field, _arg)) {\n        var argType = unwrapInputType(_arg.type);\n\n        if ((0, _graphql.isInputObjectType)(argType)) {\n          (function () {\n            var fields = argType.getFields();\n            args.push({\n              kind: 'Argument',\n              name: {\n                kind: 'Name',\n                value: _arg.name\n              },\n              value: {\n                kind: 'ObjectValue',\n                fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, field, Object.keys(fields).map(function (k) {\n                  return fields[k];\n                }))\n              }\n            });\n          })();\n        } else if ((0, _graphql.isLeafType)(argType)) {\n          args.push({\n            kind: 'Argument',\n            name: {\n              kind: 'Name',\n              value: _arg.name\n            },\n            value: getDefaultScalarArgValue(field, _arg, argType)\n          });\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return args;\n}\n\nvar FieldView = function (_React$PureComponent7) {\n  _inherits(FieldView, _React$PureComponent7);\n\n  function FieldView() {\n    var _ref12;\n\n    var _temp7, _this10, _ret9;\n\n    _classCallCheck(this, FieldView);\n\n    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    return _ret9 = (_temp7 = (_this10 = _possibleConstructorReturn(this, (_ref12 = FieldView.__proto__ || Object.getPrototypeOf(FieldView)).call.apply(_ref12, [this].concat(args))), _this10), _this10.state = {\n      displayFieldActions: false\n    }, _this10._addAllFieldsToSelections = function (rawSubfields) {\n      var subFields = !!rawSubfields ? Object.keys(rawSubfields).map(function (fieldName) {\n        return {\n          kind: 'Field',\n          name: {\n            kind: 'Name',\n            value: fieldName\n          },\n          arguments: []\n        };\n      }) : [];\n      var subSelectionSet = {\n        kind: 'SelectionSet',\n        selections: subFields\n      };\n      var nextSelections = [].concat(_toConsumableArray(_this10.props.selections.filter(function (selection) {\n        if (selection.kind === 'InlineFragment') {\n          return true;\n        } else {\n          // Remove the current selection set for the target field\n          return selection.name.value !== _this10.props.field.name;\n        }\n      })), [{\n        kind: 'Field',\n        name: {\n          kind: 'Name',\n          value: _this10.props.field.name\n        },\n        arguments: defaultArgs(_this10.props.getDefaultScalarArgValue, _this10.props.makeDefaultArg, _this10.props.field),\n        selectionSet: subSelectionSet\n      }]);\n\n      _this10.props.modifySelections(nextSelections);\n    }, _this10._addFieldToSelections = function (rawSubfields) {\n      var nextSelections = [].concat(_toConsumableArray(_this10.props.selections), [_this10._previousSelection || {\n        kind: 'Field',\n        name: {\n          kind: 'Name',\n          value: _this10.props.field.name\n        },\n        arguments: defaultArgs(_this10.props.getDefaultScalarArgValue, _this10.props.makeDefaultArg, _this10.props.field)\n      }]);\n\n      _this10.props.modifySelections(nextSelections);\n    }, _this10._handleUpdateSelections = function (event) {\n      var selection = _this10._getSelection();\n\n      if (selection && !event.altKey) {\n        _this10._removeFieldFromSelections();\n      } else {\n        var fieldType = (0, _graphql.getNamedType)(_this10.props.field.type);\n        var rawSubfields = (0, _graphql.isObjectType)(fieldType) && fieldType.getFields();\n        var shouldSelectAllSubfields = !!rawSubfields && event.altKey;\n        shouldSelectAllSubfields ? _this10._addAllFieldsToSelections(rawSubfields) : _this10._addFieldToSelections(rawSubfields);\n      }\n    }, _this10._removeFieldFromSelections = function () {\n      var previousSelection = _this10._getSelection();\n\n      _this10._previousSelection = previousSelection;\n\n      _this10.props.modifySelections(_this10.props.selections.filter(function (selection) {\n        return selection !== previousSelection;\n      }));\n    }, _this10._getSelection = function () {\n      var selection = _this10.props.selections.find(function (selection) {\n        return selection.kind === 'Field' && _this10.props.field.name === selection.name.value;\n      });\n\n      if (!selection) {\n        return null;\n      }\n\n      if (selection.kind === 'Field') {\n        return selection;\n      }\n    }, _this10._setArguments = function (argumentNodes, options) {\n      var selection = _this10._getSelection();\n\n      if (!selection) {\n        console.error('Missing selection when setting arguments', argumentNodes);\n        return;\n      }\n\n      return _this10.props.modifySelections(_this10.props.selections.map(function (s) {\n        return s === selection ? {\n          alias: selection.alias,\n          arguments: argumentNodes,\n          directives: selection.directives,\n          kind: 'Field',\n          name: selection.name,\n          selectionSet: selection.selectionSet\n        } : s;\n      }), options);\n    }, _this10._modifyChildSelections = function (selections, options) {\n      return _this10.props.modifySelections(_this10.props.selections.map(function (selection) {\n        if (selection.kind === 'Field' && _this10.props.field.name === selection.name.value) {\n          if (selection.kind !== 'Field') {\n            throw new Error('invalid selection');\n          }\n\n          return {\n            alias: selection.alias,\n            arguments: selection.arguments,\n            directives: selection.directives,\n            kind: 'Field',\n            name: selection.name,\n            selectionSet: {\n              kind: 'SelectionSet',\n              selections: selections\n            }\n          };\n        }\n\n        return selection;\n      }), options);\n    }, _temp7), _possibleConstructorReturn(_this10, _ret9);\n  }\n\n  _createClass(FieldView, [{\n    key: 'render',\n    value: function render() {\n      var _this11 = this;\n\n      var _props6 = this.props,\n          field = _props6.field,\n          schema = _props6.schema,\n          getDefaultFieldNames = _props6.getDefaultFieldNames,\n          styleConfig = _props6.styleConfig;\n\n      var selection = this._getSelection();\n\n      var type = unwrapOutputType(field.type);\n      var args = field.args.sort(function (a, b) {\n        return a.name.localeCompare(b.name);\n      });\n      var className = 'graphiql-explorer-node graphiql-explorer-' + field.name;\n\n      if (field.isDeprecated) {\n        className += ' graphiql-explorer-deprecated';\n      }\n\n      var applicableFragments = (0, _graphql.isObjectType)(type) || (0, _graphql.isInterfaceType)(type) || (0, _graphql.isUnionType)(type) ? this.props.availableFragments && this.props.availableFragments[type.name] : null;\n      var node = React.createElement('div', {\n        className: className\n      }, React.createElement('span', {\n        title: field.description,\n        style: {\n          cursor: 'pointer',\n          display: 'inline-flex',\n          alignItems: 'center',\n          minHeight: '16px',\n          WebkitUserSelect: 'none',\n          userSelect: 'none'\n        },\n        'data-field-name': field.name,\n        'data-field-type': type.name,\n        onClick: this._handleUpdateSelections,\n        onMouseEnter: function onMouseEnter() {\n          var containsMeaningfulSubselection = (0, _graphql.isObjectType)(type) && selection && selection.selectionSet && selection.selectionSet.selections.filter(function (selection) {\n            return selection.kind !== 'FragmentSpread';\n          }).length > 0;\n\n          if (containsMeaningfulSubselection) {\n            _this11.setState({\n              displayFieldActions: true\n            });\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this11.setState({\n            displayFieldActions: false\n          });\n        }\n      }, (0, _graphql.isObjectType)(type) ? React.createElement('span', null, !!selection ? this.props.styleConfig.arrowOpen : this.props.styleConfig.arrowClosed) : null, (0, _graphql.isObjectType)(type) ? null : React.createElement(Checkbox, {\n        checked: !!selection,\n        styleConfig: this.props.styleConfig\n      }), React.createElement('span', {\n        style: {\n          color: styleConfig.colors.property\n        },\n        className: 'graphiql-explorer-field-view'\n      }, field.name), !this.state.displayFieldActions ? null : React.createElement('button', {\n        type: 'submit',\n        className: 'toolbar-button',\n        title: 'Extract selections into a new reusable fragment',\n        onClick: function onClick(event) {\n          event.preventDefault();\n          event.stopPropagation(); // 1. Create a fragment spread node\n          // 2. Copy selections from this object to fragment\n          // 3. Replace selections in this object with fragment spread\n          // 4. Add fragment to document\n\n          var typeName = type.name;\n          var newFragmentName = typeName + 'Fragment';\n          var conflictingNameCount = (applicableFragments || []).filter(function (fragment) {\n            return fragment.name.value.startsWith(newFragmentName);\n          }).length;\n\n          if (conflictingNameCount > 0) {\n            newFragmentName = '' + newFragmentName + conflictingNameCount;\n          }\n\n          var childSelections = selection ? selection.selectionSet ? selection.selectionSet.selections : [] : [];\n          var nextSelections = [{\n            kind: 'FragmentSpread',\n            name: {\n              kind: 'Name',\n              value: newFragmentName\n            },\n            directives: []\n          }];\n          var newFragmentDefinition = {\n            kind: 'FragmentDefinition',\n            name: {\n              kind: 'Name',\n              value: newFragmentName\n            },\n            typeCondition: {\n              kind: 'NamedType',\n              name: {\n                kind: 'Name',\n                value: type.name\n              }\n            },\n            directives: [],\n            selectionSet: {\n              kind: 'SelectionSet',\n              selections: childSelections\n            }\n          };\n\n          var newDoc = _this11._modifyChildSelections(nextSelections, false);\n\n          if (newDoc) {\n            var newDocWithFragment = _extends({}, newDoc, {\n              definitions: [].concat(_toConsumableArray(newDoc.definitions), [newFragmentDefinition])\n            });\n\n            _this11.props.onCommit(newDocWithFragment);\n          } else {\n            console.warn('Unable to complete extractFragment operation');\n          }\n        },\n        style: _extends({}, styleConfig.styles.actionButtonStyle)\n      }, React.createElement('span', null, ''))), selection && args.length ? React.createElement('div', {\n        style: {\n          marginLeft: 16\n        },\n        className: 'graphiql-explorer-graphql-arguments'\n      }, args.map(function (arg) {\n        return React.createElement(ArgView, {\n          key: arg.name,\n          parentField: field,\n          arg: arg,\n          selection: selection,\n          modifyArguments: _this11._setArguments,\n          getDefaultScalarArgValue: _this11.props.getDefaultScalarArgValue,\n          makeDefaultArg: _this11.props.makeDefaultArg,\n          onRunOperation: _this11.props.onRunOperation,\n          styleConfig: _this11.props.styleConfig,\n          onCommit: _this11.props.onCommit,\n          definition: _this11.props.definition\n        });\n      })) : null);\n\n      if (selection && ((0, _graphql.isObjectType)(type) || (0, _graphql.isInterfaceType)(type) || (0, _graphql.isUnionType)(type))) {\n        var _fields4 = (0, _graphql.isUnionType)(type) ? {} : type.getFields();\n\n        var childSelections = selection ? selection.selectionSet ? selection.selectionSet.selections : [] : [];\n        return React.createElement('div', {\n          className: 'graphiql-explorer-' + field.name\n        }, node, React.createElement('div', {\n          style: {\n            marginLeft: 16\n          }\n        }, !!applicableFragments ? applicableFragments.map(function (fragment) {\n          var type = schema.getType(fragment.typeCondition.name.value);\n          var fragmentName = fragment.name.value;\n          return !type ? null : React.createElement(FragmentView, {\n            key: fragmentName,\n            fragment: fragment,\n            selections: childSelections,\n            modifySelections: _this11._modifyChildSelections,\n            schema: schema,\n            styleConfig: _this11.props.styleConfig,\n            onCommit: _this11.props.onCommit\n          });\n        }) : null, Object.keys(_fields4).sort().map(function (fieldName) {\n          return React.createElement(FieldView, {\n            key: fieldName,\n            field: _fields4[fieldName],\n            selections: childSelections,\n            modifySelections: _this11._modifyChildSelections,\n            schema: schema,\n            getDefaultFieldNames: getDefaultFieldNames,\n            getDefaultScalarArgValue: _this11.props.getDefaultScalarArgValue,\n            makeDefaultArg: _this11.props.makeDefaultArg,\n            onRunOperation: _this11.props.onRunOperation,\n            styleConfig: _this11.props.styleConfig,\n            onCommit: _this11.props.onCommit,\n            definition: _this11.props.definition,\n            availableFragments: _this11.props.availableFragments\n          });\n        }), (0, _graphql.isInterfaceType)(type) || (0, _graphql.isUnionType)(type) ? schema.getPossibleTypes(type).map(function (type) {\n          return React.createElement(AbstractView, {\n            key: type.name,\n            implementingType: type,\n            selections: childSelections,\n            modifySelections: _this11._modifyChildSelections,\n            schema: schema,\n            getDefaultFieldNames: getDefaultFieldNames,\n            getDefaultScalarArgValue: _this11.props.getDefaultScalarArgValue,\n            makeDefaultArg: _this11.props.makeDefaultArg,\n            onRunOperation: _this11.props.onRunOperation,\n            styleConfig: _this11.props.styleConfig,\n            onCommit: _this11.props.onCommit,\n            definition: _this11.props.definition\n          });\n        }) : null));\n      }\n\n      return node;\n    }\n  }]);\n\n  return FieldView;\n}(React.PureComponent);\n\nfunction parseQuery(text) {\n  try {\n    if (!text.trim()) {\n      return null;\n    }\n\n    return (0, _graphql.parse)(text, // Tell graphql to not bother track locations when parsing, we don't need\n    // it and it's a tiny bit more expensive.\n    {\n      noLocation: true\n    });\n  } catch (e) {\n    return new Error(e);\n  }\n}\n\nvar DEFAULT_OPERATION = {\n  kind: 'OperationDefinition',\n  operation: 'query',\n  variableDefinitions: [],\n  name: {\n    kind: 'Name',\n    value: 'MyQuery'\n  },\n  directives: [],\n  selectionSet: {\n    kind: 'SelectionSet',\n    selections: []\n  }\n};\nvar DEFAULT_DOCUMENT = {\n  kind: 'Document',\n  definitions: [DEFAULT_OPERATION]\n};\nvar parseQueryMemoize = null;\n\nfunction memoizeParseQuery(query) {\n  if (parseQueryMemoize && parseQueryMemoize[0] === query) {\n    return parseQueryMemoize[1];\n  } else {\n    var result = parseQuery(query);\n\n    if (!result) {\n      return DEFAULT_DOCUMENT;\n    } else if (result instanceof Error) {\n      if (parseQueryMemoize) {\n        // Most likely a temporarily invalid query while they type\n        return parseQueryMemoize[1];\n      } else {\n        return DEFAULT_DOCUMENT;\n      }\n    } else {\n      parseQueryMemoize = [query, result];\n      return result;\n    }\n  }\n}\n\nvar defaultStyles = {\n  buttonStyle: {\n    fontSize: '1.2em',\n    padding: '0px',\n    backgroundColor: 'white',\n    border: 'none',\n    margin: '5px 0px',\n    height: '40px',\n    width: '100%',\n    display: 'block',\n    maxWidth: 'none'\n  },\n  actionButtonStyle: {\n    padding: '0px',\n    backgroundColor: 'white',\n    border: 'none',\n    margin: '0px',\n    maxWidth: 'none',\n    height: '15px',\n    width: '15px',\n    display: 'inline-block',\n    fontSize: 'smaller'\n  },\n  explorerActionsStyle: {\n    margin: '4px -8px -8px',\n    paddingLeft: '8px',\n    bottom: '0px',\n    width: '100%',\n    textAlign: 'center',\n    background: 'none',\n    borderTop: 'none',\n    borderBottom: 'none'\n  }\n};\n\nvar RootView = function (_React$PureComponent8) {\n  _inherits(RootView, _React$PureComponent8);\n\n  function RootView() {\n    var _ref13;\n\n    var _temp8, _this12, _ret10;\n\n    _classCallCheck(this, RootView);\n\n    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n\n    return _ret10 = (_temp8 = (_this12 = _possibleConstructorReturn(this, (_ref13 = RootView.__proto__ || Object.getPrototypeOf(RootView)).call.apply(_ref13, [this].concat(args))), _this12), _this12.state = {\n      newOperationType: 'query',\n      displayTitleActions: false\n    }, _this12._modifySelections = function (selections, options) {\n      var operationDef = _this12.props.definition;\n\n      if (operationDef.selectionSet.selections.length === 0 && _this12._previousOperationDef) {\n        operationDef = _this12._previousOperationDef;\n      }\n\n      var newOperationDef = void 0;\n\n      if (operationDef.kind === 'FragmentDefinition') {\n        newOperationDef = _extends({}, operationDef, {\n          selectionSet: _extends({}, operationDef.selectionSet, {\n            selections: selections\n          })\n        });\n      } else if (operationDef.kind === 'OperationDefinition') {\n        var cleanedSelections = selections.filter(function (selection) {\n          return !(selection.kind === 'Field' && selection.name.value === '__typename');\n        });\n\n        if (cleanedSelections.length === 0) {\n          cleanedSelections = [{\n            kind: 'Field',\n            name: {\n              kind: 'Name',\n              value: '__typename ## Placeholder value'\n            }\n          }];\n        }\n\n        newOperationDef = _extends({}, operationDef, {\n          selectionSet: _extends({}, operationDef.selectionSet, {\n            selections: cleanedSelections\n          })\n        });\n      }\n\n      return _this12.props.onEdit(newOperationDef, options);\n    }, _this12._onOperationRename = function (event) {\n      return _this12.props.onOperationRename(event.target.value);\n    }, _this12._handlePotentialRun = function (event) {\n      if (isRunShortcut(event) && canRunOperation(_this12.props.definition.kind)) {\n        _this12.props.onRunOperation(_this12.props.name);\n      }\n    }, _this12._rootViewElId = function () {\n      var _this12$props = _this12.props,\n          operationType = _this12$props.operationType,\n          name = _this12$props.name;\n      var rootViewElId = operationType + '-' + (name || 'unknown');\n      return rootViewElId;\n    }, _temp8), _possibleConstructorReturn(_this12, _ret10);\n  }\n\n  _createClass(RootView, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var rootViewElId = this._rootViewElId();\n\n      this.props.onMount(rootViewElId);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this13 = this;\n\n      var _props7 = this.props,\n          operationType = _props7.operationType,\n          definition = _props7.definition,\n          schema = _props7.schema,\n          getDefaultFieldNames = _props7.getDefaultFieldNames,\n          styleConfig = _props7.styleConfig;\n\n      var rootViewElId = this._rootViewElId();\n\n      var fields = this.props.fields || {};\n      var operationDef = definition;\n      var selections = operationDef.selectionSet.selections;\n      var operationDisplayName = this.props.name || capitalize(operationType) + ' Name';\n      return React.createElement('div', {\n        id: rootViewElId,\n        tabIndex: '0',\n        onKeyDown: this._handlePotentialRun,\n        style: {\n          // The actions bar has its own top border\n          borderBottom: this.props.isLast ? 'none' : '1px solid #d6d6d6',\n          marginBottom: '0em',\n          paddingBottom: '1em'\n        }\n      }, React.createElement('div', {\n        style: {\n          color: styleConfig.colors.keyword,\n          paddingBottom: 4\n        },\n        className: 'graphiql-operation-title-bar',\n        onMouseEnter: function onMouseEnter() {\n          return _this13.setState({\n            displayTitleActions: true\n          });\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this13.setState({\n            displayTitleActions: false\n          });\n        }\n      }, operationType, ' ', React.createElement('span', {\n        style: {\n          color: styleConfig.colors.def\n        }\n      }, React.createElement('input', {\n        style: {\n          color: styleConfig.colors.def,\n          border: 'none',\n          borderBottom: '1px solid #888',\n          outline: 'none',\n          width: Math.max(4, operationDisplayName.length) + 'ch'\n        },\n        autoComplete: 'false',\n        placeholder: capitalize(operationType) + ' Name',\n        value: this.props.name,\n        onKeyDown: this._handlePotentialRun,\n        onChange: this._onOperationRename\n      })), !!this.props.onTypeName ? React.createElement('span', null, React.createElement('br', null), 'on ' + this.props.onTypeName) : '', !!this.state.displayTitleActions ? React.createElement(React.Fragment, null, React.createElement('button', {\n        type: 'submit',\n        className: 'toolbar-button',\n        onClick: function onClick() {\n          return _this13.props.onOperationDestroy();\n        },\n        style: _extends({}, styleConfig.styles.actionButtonStyle)\n      }, React.createElement('span', null, \"\\u2715\")), React.createElement('button', {\n        type: 'submit',\n        className: 'toolbar-button',\n        onClick: function onClick() {\n          return _this13.props.onOperationClone();\n        },\n        style: _extends({}, styleConfig.styles.actionButtonStyle)\n      }, React.createElement('span', null, ''))) : ''), Object.keys(fields).sort().map(function (fieldName) {\n        return React.createElement(FieldView, {\n          key: fieldName,\n          field: fields[fieldName],\n          selections: selections,\n          modifySelections: _this13._modifySelections,\n          schema: schema,\n          getDefaultFieldNames: getDefaultFieldNames,\n          getDefaultScalarArgValue: _this13.props.getDefaultScalarArgValue,\n          makeDefaultArg: _this13.props.makeDefaultArg,\n          onRunOperation: _this13.props.onRunOperation,\n          styleConfig: _this13.props.styleConfig,\n          onCommit: _this13.props.onCommit,\n          definition: _this13.props.definition,\n          availableFragments: _this13.props.availableFragments\n        });\n      }));\n    }\n  }]);\n\n  return RootView;\n}(React.PureComponent);\n\nfunction Attribution() {\n  return React.createElement('div', {\n    style: {\n      fontFamily: 'sans-serif',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      margin: '1em',\n      marginTop: 0,\n      flexGrow: 1,\n      justifyContent: 'flex-end'\n    }\n  }, React.createElement('div', {\n    style: {\n      borderTop: '1px solid #d6d6d6',\n      paddingTop: '1em',\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, 'GraphiQL Explorer by ', React.createElement('a', {\n    href: 'https://www.onegraph.com'\n  }, 'OneGraph')), React.createElement('div', null, 'Contribute on', ' ', React.createElement('a', {\n    href: 'https://github.com/OneGraph/graphiql-explorer'\n  }, 'GitHub')));\n}\n\nvar Explorer = function (_React$PureComponent9) {\n  _inherits(Explorer, _React$PureComponent9);\n\n  function Explorer() {\n    var _ref14;\n\n    var _temp9, _this14, _ret11;\n\n    _classCallCheck(this, Explorer);\n\n    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n\n    return _ret11 = (_temp9 = (_this14 = _possibleConstructorReturn(this, (_ref14 = Explorer.__proto__ || Object.getPrototypeOf(Explorer)).call.apply(_ref14, [this].concat(args))), _this14), _this14.state = {\n      newOperationType: 'query',\n      operation: null,\n      operationToScrollTo: null\n    }, _this14._resetScroll = function () {\n      var container = _this14._ref;\n\n      if (container) {\n        container.scrollLeft = 0;\n      }\n    }, _this14._onEdit = function (query) {\n      return _this14.props.onEdit(query);\n    }, _this14._setAddOperationType = function (value) {\n      _this14.setState({\n        newOperationType: value\n      });\n    }, _this14._handleRootViewMount = function (rootViewElId) {\n      if (!!_this14.state.operationToScrollTo && _this14.state.operationToScrollTo === rootViewElId) {\n        var selector = '.graphiql-explorer-root #' + rootViewElId;\n        var el = document.querySelector(selector);\n        el && el.scrollIntoView();\n      }\n    }, _temp9), _possibleConstructorReturn(_this14, _ret11);\n  }\n\n  _createClass(Explorer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._resetScroll();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this15 = this;\n\n      var _props8 = this.props,\n          schema = _props8.schema,\n          query = _props8.query,\n          makeDefaultArg = _props8.makeDefaultArg;\n\n      if (!schema) {\n        return React.createElement('div', {\n          style: {\n            fontFamily: 'sans-serif'\n          },\n          className: 'error-container'\n        }, 'No Schema Available');\n      }\n\n      var styleConfig = {\n        colors: this.props.colors || defaultColors,\n        checkboxChecked: this.props.checkboxChecked || defaultCheckboxChecked,\n        checkboxUnchecked: this.props.checkboxUnchecked || defaultCheckboxUnchecked,\n        arrowClosed: this.props.arrowClosed || defaultArrowClosed,\n        arrowOpen: this.props.arrowOpen || defaultArrowOpen,\n        styles: this.props.styles ? _extends({}, defaultStyles, this.props.styles) : defaultStyles\n      };\n      var queryType = schema.getQueryType();\n      var mutationType = schema.getMutationType();\n      var subscriptionType = schema.getSubscriptionType();\n\n      if (!queryType && !mutationType && !subscriptionType) {\n        return React.createElement('div', null, 'Missing query type');\n      }\n\n      var queryFields = queryType && queryType.getFields();\n      var mutationFields = mutationType && mutationType.getFields();\n      var subscriptionFields = subscriptionType && subscriptionType.getFields();\n      var parsedQuery = memoizeParseQuery(query);\n      var getDefaultFieldNames = this.props.getDefaultFieldNames || defaultGetDefaultFieldNames;\n      var getDefaultScalarArgValue = this.props.getDefaultScalarArgValue || defaultGetDefaultScalarArgValue;\n      var definitions = parsedQuery.definitions;\n\n      var _relevantOperations = definitions.map(function (definition) {\n        if (definition.kind === 'FragmentDefinition') {\n          return definition;\n        } else if (definition.kind === 'OperationDefinition') {\n          return definition;\n        } else {\n          return null;\n        }\n      }).filter(Boolean);\n\n      var relevantOperations = // If we don't have any relevant definitions from the parsed document,\n      // then at least show an expanded Query selection\n      _relevantOperations.length === 0 ? DEFAULT_DOCUMENT.definitions : _relevantOperations;\n\n      var renameOperation = function renameOperation(targetOperation, name) {\n        var newName = name == null || name === '' ? null : {\n          kind: 'Name',\n          value: name,\n          loc: undefined\n        };\n\n        var newOperation = _extends({}, targetOperation, {\n          name: newName\n        });\n\n        var existingDefs = parsedQuery.definitions;\n        var newDefinitions = existingDefs.map(function (existingOperation) {\n          if (targetOperation === existingOperation) {\n            return newOperation;\n          } else {\n            return existingOperation;\n          }\n        });\n        return _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n      };\n\n      var cloneOperation = function cloneOperation(targetOperation) {\n        var kind = void 0;\n\n        if (targetOperation.kind === 'FragmentDefinition') {\n          kind = 'fragment';\n        } else {\n          kind = targetOperation.operation;\n        }\n\n        var newOperationName = (targetOperation.name && targetOperation.name.value || '') + 'Copy';\n        var newName = {\n          kind: 'Name',\n          value: newOperationName,\n          loc: undefined\n        };\n\n        var newOperation = _extends({}, targetOperation, {\n          name: newName\n        });\n\n        var existingDefs = parsedQuery.definitions;\n        var newDefinitions = [].concat(_toConsumableArray(existingDefs), [newOperation]);\n\n        _this15.setState({\n          operationToScrollTo: kind + '-' + newOperationName\n        });\n\n        return _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n      };\n\n      var destroyOperation = function destroyOperation(targetOperation) {\n        var existingDefs = parsedQuery.definitions;\n        var newDefinitions = existingDefs.filter(function (existingOperation) {\n          if (targetOperation === existingOperation) {\n            return false;\n          } else {\n            return true;\n          }\n        });\n        return _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n      };\n\n      var addOperation = function addOperation(kind) {\n        var existingDefs = parsedQuery.definitions;\n        var viewingDefaultOperation = parsedQuery.definitions.length === 1 && parsedQuery.definitions[0] === DEFAULT_DOCUMENT.definitions[0];\n        var MySiblingDefs = viewingDefaultOperation ? [] : existingDefs.filter(function (def) {\n          if (def.kind === 'OperationDefinition') {\n            return def.operation === kind;\n          } else {\n            // Don't support adding fragments from explorer\n            return false;\n          }\n        });\n        var newOperationName = 'My' + capitalize(kind) + (MySiblingDefs.length === 0 ? '' : MySiblingDefs.length + 1); // Add this as the default field as it guarantees a valid selectionSet\n\n        var firstFieldName = '__typename # Placeholder value';\n        var selectionSet = {\n          kind: 'SelectionSet',\n          selections: [{\n            kind: 'Field',\n            name: {\n              kind: 'Name',\n              value: firstFieldName,\n              loc: null\n            },\n            arguments: [],\n            directives: [],\n            selectionSet: null,\n            loc: null\n          }],\n          loc: null\n        };\n        var newDefinition = {\n          kind: 'OperationDefinition',\n          operation: kind,\n          name: {\n            kind: 'Name',\n            value: newOperationName\n          },\n          variableDefinitions: [],\n          directives: [],\n          selectionSet: selectionSet,\n          loc: null\n        };\n        var newDefinitions = // If we only have our default operation in the document right now, then\n        // just replace it with our new definition\n        viewingDefaultOperation ? [newDefinition] : [].concat(_toConsumableArray(parsedQuery.definitions), [newDefinition]);\n\n        var newOperationDef = _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n\n        _this15.setState({\n          operationToScrollTo: kind + '-' + newOperationName\n        });\n\n        _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n      };\n\n      var actionsOptions = [!!queryFields ? React.createElement('option', {\n        key: 'query',\n        className: 'toolbar-button',\n        style: styleConfig.styles.buttonStyle,\n        type: 'link',\n        value: 'query'\n      }, 'Query') : null, !!mutationFields ? React.createElement('option', {\n        key: 'mutation',\n        className: 'toolbar-button',\n        style: styleConfig.styles.buttonStyle,\n        type: 'link',\n        value: 'mutation'\n      }, 'Mutation') : null, !!subscriptionFields ? React.createElement('option', {\n        key: 'subscription',\n        className: 'toolbar-button',\n        style: styleConfig.styles.buttonStyle,\n        type: 'link',\n        value: 'subscription'\n      }, 'Subscription') : null].filter(Boolean);\n      var actionsEl = actionsOptions.length === 0 ? null : React.createElement('div', {\n        style: {\n          minHeight: '50px',\n          maxHeight: '50px',\n          overflow: 'none'\n        }\n      }, React.createElement('form', {\n        className: 'variable-editor-title graphiql-explorer-actions',\n        style: _extends({}, styleConfig.styles.explorerActionsStyle, {\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'center',\n          borderTop: '1px solid rgb(214, 214, 214)'\n        }),\n        onSubmit: function onSubmit(event) {\n          return event.preventDefault();\n        }\n      }, React.createElement('span', {\n        style: {\n          display: 'inline-block',\n          flexGrow: '0',\n          textAlign: 'right'\n        }\n      }, 'Add new', ' '), React.createElement('select', {\n        onChange: function onChange(event) {\n          return _this15._setAddOperationType(event.target.value);\n        },\n        value: this.state.newOperationType,\n        style: {\n          flexGrow: '2'\n        }\n      }, actionsOptions), React.createElement('button', {\n        type: 'submit',\n        className: 'toolbar-button',\n        onClick: function onClick() {\n          return _this15.state.newOperationType ? addOperation(_this15.state.newOperationType) : null;\n        },\n        style: _extends({}, styleConfig.styles.buttonStyle, {\n          height: '22px',\n          width: '22px'\n        })\n      }, React.createElement('span', null, '+'))));\n      var availableFragments = relevantOperations.reduce(function (acc, operation) {\n        if (operation.kind === 'FragmentDefinition') {\n          var fragmentTypeName = operation.typeCondition.name.value;\n          var existingFragmentsForType = acc[fragmentTypeName] || [];\n          var newFragmentsForType = [].concat(_toConsumableArray(existingFragmentsForType), [operation]).sort(function (a, b) {\n            return a.name.value.localeCompare(b.name.value);\n          });\n          return _extends({}, acc, _defineProperty({}, fragmentTypeName, newFragmentsForType));\n        }\n\n        return acc;\n      }, {});\n      var attribution = this.props.showAttribution ? React.createElement(Attribution, null) : null;\n      return React.createElement('div', {\n        ref: function ref(_ref15) {\n          _this15._ref = _ref15;\n        },\n        style: {\n          fontSize: 12,\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          margin: 0,\n          padding: 8,\n          fontFamily: 'Consolas, Inconsolata, \"Droid Sans Mono\", Monaco, monospace',\n          display: 'flex',\n          flexDirection: 'column',\n          height: '100%'\n        },\n        className: 'graphiql-explorer-root'\n      }, React.createElement('div', {\n        style: {\n          flexGrow: '1',\n          overflow: 'scroll'\n        }\n      }, relevantOperations.map(function (operation, index) {\n        var operationName = operation && operation.name && operation.name.value;\n        var operationType = operation.kind === 'FragmentDefinition' ? 'fragment' : operation && operation.operation || 'query';\n\n        var onOperationRename = function onOperationRename(newName) {\n          var newOperationDef = renameOperation(operation, newName);\n\n          _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n        };\n\n        var onOperationClone = function onOperationClone() {\n          var newOperationDef = cloneOperation(operation);\n\n          _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n        };\n\n        var onOperationDestroy = function onOperationDestroy() {\n          var newOperationDef = destroyOperation(operation);\n\n          _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n        };\n\n        var fragmentType = operation.kind === 'FragmentDefinition' && operation.typeCondition.kind === 'NamedType' && schema.getType(operation.typeCondition.name.value);\n        var fragmentFields = fragmentType instanceof _graphql.GraphQLObjectType ? fragmentType.getFields() : null;\n        var fields = operationType === 'query' ? queryFields : operationType === 'mutation' ? mutationFields : operationType === 'subscription' ? subscriptionFields : operation.kind === 'FragmentDefinition' ? fragmentFields : null;\n        var fragmentTypeName = operation.kind === 'FragmentDefinition' ? operation.typeCondition.name.value : null;\n\n        var onCommit = function onCommit(parsedDocument) {\n          var textualNewDocument = (0, _graphql.print)(parsedDocument);\n\n          _this15.props.onEdit(textualNewDocument);\n        };\n\n        return React.createElement(RootView, {\n          key: index,\n          isLast: index === relevantOperations.length - 1,\n          fields: fields,\n          operationType: operationType,\n          name: operationName,\n          definition: operation,\n          onOperationRename: onOperationRename,\n          onOperationDestroy: onOperationDestroy,\n          onOperationClone: onOperationClone,\n          onTypeName: fragmentTypeName,\n          onMount: _this15._handleRootViewMount,\n          onCommit: onCommit,\n          onEdit: function onEdit(newDefinition, options) {\n            var commit = void 0;\n\n            if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && typeof options.commit !== 'undefined') {\n              commit = options.commit;\n            } else {\n              commit = true;\n            }\n\n            if (!!newDefinition) {\n              var newQuery = _extends({}, parsedQuery, {\n                definitions: parsedQuery.definitions.map(function (existingDefinition) {\n                  return existingDefinition === operation ? newDefinition : existingDefinition;\n                })\n              });\n\n              if (commit) {\n                onCommit(newQuery);\n                return newQuery;\n              } else {\n                return newQuery;\n              }\n            } else {\n              return parsedQuery;\n            }\n          },\n          schema: schema,\n          getDefaultFieldNames: getDefaultFieldNames,\n          getDefaultScalarArgValue: getDefaultScalarArgValue,\n          makeDefaultArg: makeDefaultArg,\n          onRunOperation: function onRunOperation() {\n            if (!!_this15.props.onRunOperation) {\n              _this15.props.onRunOperation(operationName);\n            }\n          },\n          styleConfig: styleConfig,\n          availableFragments: availableFragments\n        });\n      }), attribution), actionsEl);\n    }\n  }]);\n\n  return Explorer;\n}(React.PureComponent);\n\nExplorer.defaultProps = {\n  getDefaultFieldNames: defaultGetDefaultFieldNames,\n  getDefaultScalarArgValue: defaultGetDefaultScalarArgValue\n};\n\nvar ErrorBoundary = function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _ref16;\n\n    var _temp10, _this16, _ret12;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n      args[_key10] = arguments[_key10];\n    }\n\n    return _ret12 = (_temp10 = (_this16 = _possibleConstructorReturn(this, (_ref16 = ErrorBoundary.__proto__ || Object.getPrototypeOf(ErrorBoundary)).call.apply(_ref16, [this].concat(args))), _this16), _this16.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null\n    }, _temp10), _possibleConstructorReturn(_this16, _ret12);\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: 'componentDidCatch',\n    value: function componentDidCatch(error, errorInfo) {\n      this.setState({\n        hasError: true,\n        error: error,\n        errorInfo: errorInfo\n      });\n      console.error('Error in component', error, errorInfo);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.hasError) {\n        return React.createElement('div', {\n          style: {\n            padding: 18,\n            fontFamily: 'sans-serif'\n          }\n        }, React.createElement('div', null, 'Something went wrong'), React.createElement('details', {\n          style: {\n            whiteSpace: 'pre-wrap'\n          }\n        }, this.state.error ? this.state.error.toString() : null, React.createElement('br', null), this.state.errorInfo ? this.state.errorInfo.componentStack : null));\n      }\n\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar ExplorerWrapper = function (_React$PureComponent10) {\n  _inherits(ExplorerWrapper, _React$PureComponent10);\n\n  function ExplorerWrapper() {\n    _classCallCheck(this, ExplorerWrapper);\n\n    return _possibleConstructorReturn(this, (ExplorerWrapper.__proto__ || Object.getPrototypeOf(ExplorerWrapper)).apply(this, arguments));\n  }\n\n  _createClass(ExplorerWrapper, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        className: 'docExplorerWrap',\n        style: {\n          height: '100%',\n          width: this.props.width,\n          minWidth: this.props.width,\n          zIndex: 7,\n          display: this.props.explorerIsOpen ? 'flex' : 'none',\n          flexDirection: 'column',\n          overflow: 'hidden'\n        }\n      }, React.createElement('div', {\n        className: 'doc-explorer-title-bar'\n      }, React.createElement('div', {\n        className: 'doc-explorer-title'\n      }, this.props.title), React.createElement('div', {\n        className: 'doc-explorer-rhs'\n      }, React.createElement('div', {\n        className: 'docExplorerHide',\n        onClick: this.props.onToggleExplorer\n      }, \"\\u2715\"))), React.createElement('div', {\n        className: 'doc-explorer-contents',\n        style: {\n          padding: '0px',\n\n          /* Unset overflowY since docExplorerWrap sets it and it'll\n          cause two scrollbars (one for the container and one for the schema tree) */\n          overflowY: 'unset'\n        }\n      }, React.createElement(ErrorBoundary, null, React.createElement(Explorer, this.props))));\n    }\n  }]);\n\n  return ExplorerWrapper;\n}(React.PureComponent);\n\nExplorerWrapper.defaultValue = defaultValue;\nExplorerWrapper.defaultProps = {\n  width: 320,\n  title: 'Explorer'\n};\nexports.default = ExplorerWrapper;","map":{"version":3,"sources":["/home/katesclau/returnmates/amplify-appsync-simulator/amplify-graphiql-explorer/node_modules/graphiql-explorer/dist/Explorer.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","length","err","Array","isArray","TypeError","_extends","assign","target","arguments","source","key","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","defaultValue","_react","require","React","_interopRequireWildcard","_graphql","__esModule","newObj","default","_defineProperty","_toConsumableArray","arr2","from","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","capitalize","string","charAt","toUpperCase","slice","defaultColors","keyword","def","property","qualifier","attribute","number","builtin","string2","variable","atom","defaultArrowOpen","createElement","width","height","fill","d","defaultArrowClosed","defaultCheckboxChecked","style","marginRight","marginLeft","viewBox","xmlns","defaultCheckboxUnchecked","Checkbox","checked","styleConfig","checkboxChecked","checkboxUnchecked","defaultGetDefaultFieldNames","type","fields","getFields","res","leafFieldNames","keys","forEach","fieldName","isLeafType","isRequiredArgument","arg","isNonNullType","unwrapOutputType","outputType","unwrappedType","isWrappingType","ofType","unwrapInputType","inputType","coerceArgValue","argType","kind","isScalarType","name","String","parseValue","parseFloat","parseInt","parsed","JSON","parse","e","console","error","parsedValue","getValues","InputArgView","_React$PureComponent","_ref","_temp","_this","_ret","_len","args","_key","getPrototypeOf","apply","concat","_getArgSelection","selection","find","field","_removeArg","argSelection","_previousArgSelection","modifyFields","filter","_addArg","_this$props","getDefaultScalarArgValue","parentField","makeDefaultArg","isInputObjectType","_fields","defaultInputObjectFields","map","k","_setArgValue","event","options","settingToNull","settingToVariable","settingToLiteralValue","handleable","warn","targetValue","newDoc","isTarget","newField","_modifyChildFields","render","_props","AbstractArgView","argValue","addArg","removeArg","setArgFields","setArgValue","onRunOperation","onCommit","definition","PureComponent","isEnumType","defaultGetDefaultScalarArgValue","ArgView","_React$PureComponent2","_ref2","_temp2","_this2","_ret2","_len2","_key2","commit","modifyArguments","_this2$props","_fields2","a","_setArgFields","_props2","isRunShortcut","ctrlKey","canRunOperation","operationName","ScalarInput","_React$PureComponent3","_ref3","_temp3","_this3","_ret3","_len3","_key3","_handleChange","componentDidMount","input","activeElement","document","HTMLTextAreaElement","focus","setSelectionRange","_this4","_props3","color","colors","border","borderBottom","outline","Math","max","min","ref","_ref4","onChange","_React$PureComponent4","_ref5","_temp4","_this5","_ret4","_len4","_key4","state","displayArgActions","_this6","_props4","backgroundColor","_fields3","sort","variablize","baseVariableName","conflictingNameCount","variableDefinitions","varDef","startsWith","variableName","argPrintedType","toString","parseType","base","directives","variableDefinitionByName","subVariableUsageCountByName","cleanedDefaultValue","visit","Variable","node","varName","isNonNullable","unwrappedBase","newlyUnusedVariables","entries","_ref6","_ref7","_","usageCount","_ref8","_ref9","_newDoc","targetOperation","definitions","operation","newVariableDefinitions","indexOf","newOperation","existingDefs","newDefinitions","existingOperation","finalDoc","devariablize","variableDefinition","variableUseCount","isArgValueVariable","variablizeActionButton","className","title","onClick","preventDefault","stopPropagation","styles","actionButtonStyle","cursor","minHeight","WebkitUserSelect","userSelect","shouldAdd","setState","arrowOpen","arrowClosed","description","onMouseEnter","onMouseLeave","AbstractView","_React$PureComponent5","_ref10","_temp5","_this7","_ret5","_len5","_key5","_addFragment","modifySelections","selections","_previousSelection","typeCondition","implementingType","selectionSet","getDefaultFieldNames","_removeFragment","thisSelection","_getSelection","s","_modifyChildSelections","_this8","_props5","schema","childSelections","FieldView","availableFragments","FragmentView","_React$PureComponent6","_ref11","_temp6","_this9","_ret6","_len6","_key6","fragment","isTargetSelection","nodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_field","isRequiredInputField","fieldType","return","defaultArgs","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_arg","_React$PureComponent7","_ref12","_temp7","_this10","_ret9","_len7","_key7","displayFieldActions","_addAllFieldsToSelections","rawSubfields","subFields","subSelectionSet","nextSelections","_addFieldToSelections","_handleUpdateSelections","altKey","_removeFieldFromSelections","getNamedType","isObjectType","shouldSelectAllSubfields","previousSelection","_setArguments","argumentNodes","alias","Error","_this11","_props6","b","localeCompare","isDeprecated","applicableFragments","isInterfaceType","isUnionType","display","alignItems","containsMeaningfulSubselection","typeName","newFragmentName","newFragmentDefinition","newDocWithFragment","_fields4","getType","fragmentName","getPossibleTypes","parseQuery","text","trim","noLocation","DEFAULT_OPERATION","DEFAULT_DOCUMENT","parseQueryMemoize","memoizeParseQuery","query","result","defaultStyles","buttonStyle","fontSize","padding","margin","maxWidth","explorerActionsStyle","paddingLeft","bottom","textAlign","background","borderTop","RootView","_React$PureComponent8","_ref13","_temp8","_this12","_ret10","_len8","_key8","newOperationType","displayTitleActions","_modifySelections","operationDef","_previousOperationDef","newOperationDef","cleanedSelections","onEdit","_onOperationRename","onOperationRename","_handlePotentialRun","_rootViewElId","_this12$props","operationType","rootViewElId","onMount","_this13","_props7","operationDisplayName","id","tabIndex","onKeyDown","isLast","marginBottom","paddingBottom","autoComplete","placeholder","onTypeName","Fragment","onOperationDestroy","onOperationClone","Attribution","fontFamily","flexDirection","marginTop","flexGrow","justifyContent","paddingTop","href","Explorer","_React$PureComponent9","_ref14","_temp9","_this14","_ret11","_len9","_key9","operationToScrollTo","_resetScroll","container","scrollLeft","_onEdit","_setAddOperationType","_handleRootViewMount","selector","el","querySelector","scrollIntoView","_this15","_props8","queryType","getQueryType","mutationType","getMutationType","subscriptionType","getSubscriptionType","queryFields","mutationFields","subscriptionFields","parsedQuery","_relevantOperations","Boolean","relevantOperations","renameOperation","newName","loc","cloneOperation","newOperationName","destroyOperation","addOperation","viewingDefaultOperation","MySiblingDefs","firstFieldName","newDefinition","print","actionsOptions","actionsEl","maxHeight","overflow","onSubmit","reduce","acc","fragmentTypeName","existingFragmentsForType","newFragmentsForType","attribution","showAttribution","_ref15","textOverflow","whiteSpace","index","fragmentType","fragmentFields","GraphQLObjectType","parsedDocument","textualNewDocument","newQuery","existingDefinition","defaultProps","ErrorBoundary","_React$Component","_ref16","_temp10","_this16","_ret12","_len10","_key10","hasError","errorInfo","componentDidCatch","componentStack","children","Component","ExplorerWrapper","_React$PureComponent10","minWidth","zIndex","explorerIsOpen","onToggleExplorer","overflowY"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.defaultValue = defaultValue;\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _graphql = require('graphql');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// TODO: 1. Add default fields recursively\n// TODO: 2. Add default fields for all selections (not just fragments)\n// TODO: 3. Add stylesheet and remove inline styles\n// TODO: 4. Indication of when query in explorer diverges from query in editor pane\n// TODO: 5. Separate section for deprecated args, with support for 'beta' fields\n// TODO: 6. Custom default arg fields\n\n// Note: Attempted 1. and 2., but they were more annoying than helpful\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n// Names match class names in graphiql app.css\n// https://github.com/graphql/graphiql/blob/master/packages/graphiql/css/app.css\nvar defaultColors = {\n  keyword: '#B11A04',\n  // OperationName, FragmentName\n  def: '#D2054E',\n  // FieldName\n  property: '#1F61A0',\n  // FieldAlias\n  qualifier: '#1C92A9',\n  // ArgumentName and ObjectFieldName\n  attribute: '#8B2BB9',\n  number: '#2882F9',\n  string: '#D64292',\n  // Boolean\n  builtin: '#D47509',\n  // Enum\n  string2: '#0B7FC7',\n  variable: '#397D13',\n  // Type\n  atom: '#CA9800'\n};\n\nvar defaultArrowOpen = React.createElement(\n  'svg',\n  { width: '12', height: '9' },\n  React.createElement('path', { fill: '#666', d: 'M 0 2 L 9 2 L 4.5 7.5 z' })\n);\n\nvar defaultArrowClosed = React.createElement(\n  'svg',\n  { width: '12', height: '9' },\n  React.createElement('path', { fill: '#666', d: 'M 0 0 L 0 9 L 5.5 4.5 z' })\n);\n\nvar defaultCheckboxChecked = React.createElement(\n  'svg',\n  {\n    style: { marginRight: '3px', marginLeft: '-3px' },\n    width: '12',\n    height: '12',\n    viewBox: '0 0 18 18',\n    fill: 'none',\n    xmlns: 'http://www.w3.org/2000/svg' },\n  React.createElement('path', {\n    d: 'M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM14.99 6L13.58 4.58L6.99 11.17L4.41 8.6L2.99 10.01L6.99 14L14.99 6Z',\n    fill: '#666'\n  })\n);\n\nvar defaultCheckboxUnchecked = React.createElement(\n  'svg',\n  {\n    style: { marginRight: '3px', marginLeft: '-3px' },\n    width: '12',\n    height: '12',\n    viewBox: '0 0 18 18',\n    fill: 'none',\n    xmlns: 'http://www.w3.org/2000/svg' },\n  React.createElement('path', {\n    d: 'M16 2V16H2V2H16ZM16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z',\n    fill: '#CCC'\n  })\n);\n\nfunction Checkbox(props) {\n  return props.checked ? props.styleConfig.checkboxChecked : props.styleConfig.checkboxUnchecked;\n}\n\nfunction defaultGetDefaultFieldNames(type) {\n  var fields = type.getFields();\n\n  // Is there an `id` field?\n  if (fields['id']) {\n    var res = ['id'];\n    if (fields['email']) {\n      res.push('email');\n    } else if (fields['name']) {\n      res.push('name');\n    }\n    return res;\n  }\n\n  // Is there an `edges` field?\n  if (fields['edges']) {\n    return ['edges'];\n  }\n\n  // Is there an `node` field?\n  if (fields['node']) {\n    return ['node'];\n  }\n\n  if (fields['nodes']) {\n    return ['nodes'];\n  }\n\n  // Include all leaf-type fields.\n  var leafFieldNames = [];\n  Object.keys(fields).forEach(function (fieldName) {\n    if ((0, _graphql.isLeafType)(fields[fieldName].type)) {\n      leafFieldNames.push(fieldName);\n    }\n  });\n\n  if (!leafFieldNames.length) {\n    // No leaf fields, add typename so that the query stays valid\n    return ['__typename'];\n  }\n  return leafFieldNames.slice(0, 2); // Prevent too many fields from being added\n}\n\nfunction isRequiredArgument(arg) {\n  return (0, _graphql.isNonNullType)(arg.type) && arg.defaultValue === undefined;\n}\n\nfunction unwrapOutputType(outputType) {\n  var unwrappedType = outputType;\n  while ((0, _graphql.isWrappingType)(unwrappedType)) {\n    unwrappedType = unwrappedType.ofType;\n  }\n  return unwrappedType;\n}\n\nfunction unwrapInputType(inputType) {\n  var unwrappedType = inputType;\n  while ((0, _graphql.isWrappingType)(unwrappedType)) {\n    unwrappedType = unwrappedType.ofType;\n  }\n  return unwrappedType;\n}\n\nfunction coerceArgValue(argType, value) {\n  // Handle the case where we're setting a variable as the value\n  if (typeof value !== 'string' && value.kind === 'VariableDefinition') {\n    return value.variable;\n  } else if ((0, _graphql.isScalarType)(argType)) {\n    try {\n      switch (argType.name) {\n        case 'String':\n          return {\n            kind: 'StringValue',\n            value: String(argType.parseValue(value))\n          };\n        case 'Float':\n          return {\n            kind: 'FloatValue',\n            value: String(argType.parseValue(parseFloat(value)))\n          };\n        case 'Int':\n          return {\n            kind: 'IntValue',\n            value: String(argType.parseValue(parseInt(value, 10)))\n          };\n        case 'Boolean':\n          try {\n            var parsed = JSON.parse(value);\n            if (typeof parsed === 'boolean') {\n              return { kind: 'BooleanValue', value: parsed };\n            } else {\n              return { kind: 'BooleanValue', value: false };\n            }\n          } catch (e) {\n            return {\n              kind: 'BooleanValue',\n              value: false\n            };\n          }\n        default:\n          return {\n            kind: 'StringValue',\n            value: String(argType.parseValue(value))\n          };\n      }\n    } catch (e) {\n      console.error('error coercing arg value', e, value);\n      return { kind: 'StringValue', value: value };\n    }\n  } else {\n    try {\n      var parsedValue = argType.parseValue(value);\n      if (parsedValue) {\n        return { kind: 'EnumValue', value: String(parsedValue) };\n      } else {\n        return { kind: 'EnumValue', value: argType.getValues()[0].name };\n      }\n    } catch (e) {\n      return { kind: 'EnumValue', value: argType.getValues()[0].name };\n    }\n  }\n}\n\nvar InputArgView = function (_React$PureComponent) {\n  _inherits(InputArgView, _React$PureComponent);\n\n  function InputArgView() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, InputArgView);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = InputArgView.__proto__ || Object.getPrototypeOf(InputArgView)).call.apply(_ref, [this].concat(args))), _this), _this._getArgSelection = function () {\n      return _this.props.selection.fields.find(function (field) {\n        return field.name.value === _this.props.arg.name;\n      });\n    }, _this._removeArg = function () {\n      var selection = _this.props.selection;\n\n      var argSelection = _this._getArgSelection();\n      _this._previousArgSelection = argSelection;\n      _this.props.modifyFields(selection.fields.filter(function (field) {\n        return field !== argSelection;\n      }), true);\n    }, _this._addArg = function () {\n      var _this$props = _this.props,\n          selection = _this$props.selection,\n          arg = _this$props.arg,\n          getDefaultScalarArgValue = _this$props.getDefaultScalarArgValue,\n          parentField = _this$props.parentField,\n          makeDefaultArg = _this$props.makeDefaultArg;\n\n      var argType = unwrapInputType(arg.type);\n\n      var argSelection = null;\n      if (_this._previousArgSelection) {\n        argSelection = _this._previousArgSelection;\n      } else if ((0, _graphql.isInputObjectType)(argType)) {\n        var _fields = argType.getFields();\n        argSelection = {\n          kind: 'ObjectField',\n          name: { kind: 'Name', value: arg.name },\n          value: {\n            kind: 'ObjectValue',\n            fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, Object.keys(_fields).map(function (k) {\n              return _fields[k];\n            }))\n          }\n        };\n      } else if ((0, _graphql.isLeafType)(argType)) {\n        argSelection = {\n          kind: 'ObjectField',\n          name: { kind: 'Name', value: arg.name },\n          value: getDefaultScalarArgValue(parentField, arg, argType)\n        };\n      }\n\n      if (!argSelection) {\n        console.error('Unable to add arg for argType', argType);\n      } else {\n        return _this.props.modifyFields([].concat(_toConsumableArray(selection.fields || []), [argSelection]), true);\n      }\n    }, _this._setArgValue = function (event, options) {\n      var settingToNull = false;\n      var settingToVariable = false;\n      var settingToLiteralValue = false;\n      try {\n        if (event.kind === 'VariableDefinition') {\n          settingToVariable = true;\n        } else if (event === null || typeof event === 'undefined') {\n          settingToNull = true;\n        } else if (typeof event.kind === 'string') {\n          settingToLiteralValue = true;\n        }\n      } catch (e) {}\n\n      var selection = _this.props.selection;\n\n\n      var argSelection = _this._getArgSelection();\n\n      if (!argSelection) {\n        console.error('missing arg selection when setting arg value');\n        return;\n      }\n      var argType = unwrapInputType(_this.props.arg.type);\n\n      var handleable = (0, _graphql.isLeafType)(argType) || settingToVariable || settingToNull || settingToLiteralValue;\n\n      if (!handleable) {\n        console.warn('Unable to handle non leaf types in InputArgView.setArgValue', event);\n        return;\n      }\n      var targetValue = void 0;\n      var value = void 0;\n\n      if (event === null || typeof event === 'undefined') {\n        value = null;\n      } else if (!event.target && !!event.kind && event.kind === 'VariableDefinition') {\n        targetValue = event;\n        value = targetValue.variable;\n      } else if (typeof event.kind === 'string') {\n        value = event;\n      } else if (event.target && typeof event.target.value === 'string') {\n        targetValue = event.target.value;\n        value = coerceArgValue(argType, targetValue);\n      }\n\n      var newDoc = _this.props.modifyFields((selection.fields || []).map(function (field) {\n        var isTarget = field === argSelection;\n        var newField = isTarget ? _extends({}, field, {\n          value: value\n        }) : field;\n\n        return newField;\n      }), options);\n\n      return newDoc;\n    }, _this._modifyChildFields = function (fields) {\n      return _this.props.modifyFields(_this.props.selection.fields.map(function (field) {\n        return field.name.value === _this.props.arg.name ? _extends({}, field, {\n          value: {\n            kind: 'ObjectValue',\n            fields: fields\n          }\n        }) : field;\n      }), true);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(InputArgView, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          arg = _props.arg,\n          parentField = _props.parentField;\n\n      var argSelection = this._getArgSelection();\n\n      return React.createElement(AbstractArgView, {\n        argValue: argSelection ? argSelection.value : null,\n        arg: arg,\n        parentField: parentField,\n        addArg: this._addArg,\n        removeArg: this._removeArg,\n        setArgFields: this._modifyChildFields,\n        setArgValue: this._setArgValue,\n        getDefaultScalarArgValue: this.props.getDefaultScalarArgValue,\n        makeDefaultArg: this.props.makeDefaultArg,\n        onRunOperation: this.props.onRunOperation,\n        styleConfig: this.props.styleConfig,\n        onCommit: this.props.onCommit,\n        definition: this.props.definition\n      });\n    }\n  }]);\n\n  return InputArgView;\n}(React.PureComponent);\n\nfunction defaultValue(argType) {\n  if ((0, _graphql.isEnumType)(argType)) {\n    return { kind: 'EnumValue', value: argType.getValues()[0].name };\n  } else {\n    switch (argType.name) {\n      case 'String':\n        return { kind: 'StringValue', value: '' };\n      case 'Float':\n        return { kind: 'FloatValue', value: '1.5' };\n      case 'Int':\n        return { kind: 'IntValue', value: '10' };\n      case 'Boolean':\n        return { kind: 'BooleanValue', value: false };\n      default:\n        return { kind: 'StringValue', value: '' };\n    }\n  }\n}\n\nfunction defaultGetDefaultScalarArgValue(parentField, arg, argType) {\n  return defaultValue(argType);\n}\n\nvar ArgView = function (_React$PureComponent2) {\n  _inherits(ArgView, _React$PureComponent2);\n\n  function ArgView() {\n    var _ref2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, ArgView);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = ArgView.__proto__ || Object.getPrototypeOf(ArgView)).call.apply(_ref2, [this].concat(args))), _this2), _this2._getArgSelection = function () {\n      var selection = _this2.props.selection;\n\n\n      return (selection.arguments || []).find(function (arg) {\n        return arg.name.value === _this2.props.arg.name;\n      });\n    }, _this2._removeArg = function (commit) {\n      var selection = _this2.props.selection;\n\n      var argSelection = _this2._getArgSelection();\n      _this2._previousArgSelection = argSelection;\n      return _this2.props.modifyArguments((selection.arguments || []).filter(function (arg) {\n        return arg !== argSelection;\n      }), commit);\n    }, _this2._addArg = function (commit) {\n      var _this2$props = _this2.props,\n          selection = _this2$props.selection,\n          getDefaultScalarArgValue = _this2$props.getDefaultScalarArgValue,\n          makeDefaultArg = _this2$props.makeDefaultArg,\n          parentField = _this2$props.parentField,\n          arg = _this2$props.arg;\n\n      var argType = unwrapInputType(arg.type);\n\n      var argSelection = null;\n      if (_this2._previousArgSelection) {\n        argSelection = _this2._previousArgSelection;\n      } else if ((0, _graphql.isInputObjectType)(argType)) {\n        var _fields2 = argType.getFields();\n        argSelection = {\n          kind: 'Argument',\n          name: { kind: 'Name', value: arg.name },\n          value: {\n            kind: 'ObjectValue',\n            fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, Object.keys(_fields2).map(function (k) {\n              return _fields2[k];\n            }))\n          }\n        };\n      } else if ((0, _graphql.isLeafType)(argType)) {\n        argSelection = {\n          kind: 'Argument',\n          name: { kind: 'Name', value: arg.name },\n          value: getDefaultScalarArgValue(parentField, arg, argType)\n        };\n      }\n\n      if (!argSelection) {\n        console.error('Unable to add arg for argType', argType);\n        return null;\n      } else {\n        return _this2.props.modifyArguments([].concat(_toConsumableArray(selection.arguments || []), [argSelection]), commit);\n      }\n    }, _this2._setArgValue = function (event, options) {\n      var settingToNull = false;\n      var settingToVariable = false;\n      var settingToLiteralValue = false;\n      try {\n        if (event.kind === 'VariableDefinition') {\n          settingToVariable = true;\n        } else if (event === null || typeof event === 'undefined') {\n          settingToNull = true;\n        } else if (typeof event.kind === 'string') {\n          settingToLiteralValue = true;\n        }\n      } catch (e) {}\n      var selection = _this2.props.selection;\n\n      var argSelection = _this2._getArgSelection();\n      if (!argSelection && !settingToVariable) {\n        console.error('missing arg selection when setting arg value');\n        return;\n      }\n      var argType = unwrapInputType(_this2.props.arg.type);\n\n      var handleable = (0, _graphql.isLeafType)(argType) || settingToVariable || settingToNull || settingToLiteralValue;\n\n      if (!handleable) {\n        console.warn('Unable to handle non leaf types in ArgView._setArgValue');\n        return;\n      }\n\n      var targetValue = void 0;\n      var value = void 0;\n\n      if (event === null || typeof event === 'undefined') {\n        value = null;\n      } else if (event.target && typeof event.target.value === 'string') {\n        targetValue = event.target.value;\n        value = coerceArgValue(argType, targetValue);\n      } else if (!event.target && event.kind === 'VariableDefinition') {\n        targetValue = event;\n        value = targetValue.variable;\n      } else if (typeof event.kind === 'string') {\n        value = event;\n      }\n\n      return _this2.props.modifyArguments((selection.arguments || []).map(function (a) {\n        return a === argSelection ? _extends({}, a, {\n          value: value\n        }) : a;\n      }), options);\n    }, _this2._setArgFields = function (fields, commit) {\n      var selection = _this2.props.selection;\n\n      var argSelection = _this2._getArgSelection();\n      if (!argSelection) {\n        console.error('missing arg selection when setting arg value');\n        return;\n      }\n\n      return _this2.props.modifyArguments((selection.arguments || []).map(function (a) {\n        return a === argSelection ? _extends({}, a, {\n          value: {\n            kind: 'ObjectValue',\n            fields: fields\n          }\n        }) : a;\n      }), commit);\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(ArgView, [{\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          arg = _props2.arg,\n          parentField = _props2.parentField;\n\n      var argSelection = this._getArgSelection();\n\n      return React.createElement(AbstractArgView, {\n        argValue: argSelection ? argSelection.value : null,\n        arg: arg,\n        parentField: parentField,\n        addArg: this._addArg,\n        removeArg: this._removeArg,\n        setArgFields: this._setArgFields,\n        setArgValue: this._setArgValue,\n        getDefaultScalarArgValue: this.props.getDefaultScalarArgValue,\n        makeDefaultArg: this.props.makeDefaultArg,\n        onRunOperation: this.props.onRunOperation,\n        styleConfig: this.props.styleConfig,\n        onCommit: this.props.onCommit,\n        definition: this.props.definition\n      });\n    }\n  }]);\n\n  return ArgView;\n}(React.PureComponent);\n\nfunction isRunShortcut(event) {\n  return event.ctrlKey && event.key === 'Enter';\n}\n\nfunction canRunOperation(operationName) {\n  // it does not make sense to try to execute a fragment\n  return operationName !== 'FragmentDefinition';\n}\n\nvar ScalarInput = function (_React$PureComponent3) {\n  _inherits(ScalarInput, _React$PureComponent3);\n\n  function ScalarInput() {\n    var _ref3;\n\n    var _temp3, _this3, _ret3;\n\n    _classCallCheck(this, ScalarInput);\n\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = ScalarInput.__proto__ || Object.getPrototypeOf(ScalarInput)).call.apply(_ref3, [this].concat(args))), _this3), _this3._handleChange = function (event) {\n      _this3.props.setArgValue(event, true);\n    }, _temp3), _possibleConstructorReturn(_this3, _ret3);\n  }\n\n  _createClass(ScalarInput, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var input = this._ref;\n      var activeElement = document.activeElement;\n      if (input && activeElement && !(activeElement instanceof HTMLTextAreaElement)) {\n        input.focus();\n        input.setSelectionRange(0, input.value.length);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props3 = this.props,\n          arg = _props3.arg,\n          argValue = _props3.argValue,\n          styleConfig = _props3.styleConfig;\n\n      var argType = unwrapInputType(arg.type);\n      var value = typeof argValue.value === 'string' ? argValue.value : '';\n      var color = this.props.argValue.kind === 'StringValue' ? styleConfig.colors.string : styleConfig.colors.number;\n      return React.createElement(\n        'span',\n        { style: { color: color } },\n        argType.name === 'String' ? '\"' : '',\n        React.createElement('input', {\n          style: {\n            border: 'none',\n            borderBottom: '1px solid #888',\n            outline: 'none',\n            width: Math.max(1, Math.min(15, value.length)) + 'ch',\n            color: color\n          },\n          ref: function ref(_ref4) {\n            _this4._ref = _ref4;\n          },\n          type: 'text',\n          onChange: this._handleChange,\n          value: value\n        }),\n        argType.name === 'String' ? '\"' : ''\n      );\n    }\n  }]);\n\n  return ScalarInput;\n}(React.PureComponent);\n\nvar AbstractArgView = function (_React$PureComponent4) {\n  _inherits(AbstractArgView, _React$PureComponent4);\n\n  function AbstractArgView() {\n    var _ref5;\n\n    var _temp4, _this5, _ret4;\n\n    _classCallCheck(this, AbstractArgView);\n\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return _ret4 = (_temp4 = (_this5 = _possibleConstructorReturn(this, (_ref5 = AbstractArgView.__proto__ || Object.getPrototypeOf(AbstractArgView)).call.apply(_ref5, [this].concat(args))), _this5), _this5.state = { displayArgActions: false }, _temp4), _possibleConstructorReturn(_this5, _ret4);\n  }\n\n  _createClass(AbstractArgView, [{\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      var _props4 = this.props,\n          argValue = _props4.argValue,\n          arg = _props4.arg,\n          styleConfig = _props4.styleConfig;\n      /* TODO: handle List types*/\n\n      var argType = unwrapInputType(arg.type);\n\n      var input = null;\n      if (argValue) {\n        if (argValue.kind === 'Variable') {\n          input = React.createElement(\n            'span',\n            { style: { color: styleConfig.colors.variable } },\n            '$',\n            argValue.name.value\n          );\n        } else if ((0, _graphql.isScalarType)(argType)) {\n          if (argType.name === 'Boolean') {\n            input = React.createElement(\n              'select',\n              {\n                style: {\n                  color: styleConfig.colors.builtin\n                },\n                onChange: this.props.setArgValue,\n                value: argValue.kind === 'BooleanValue' ? argValue.value : undefined },\n              React.createElement(\n                'option',\n                { key: 'true', value: 'true' },\n                'true'\n              ),\n              React.createElement(\n                'option',\n                { key: 'false', value: 'false' },\n                'false'\n              )\n            );\n          } else {\n            input = React.createElement(ScalarInput, {\n              setArgValue: this.props.setArgValue,\n              arg: arg,\n              argValue: argValue,\n              onRunOperation: this.props.onRunOperation,\n              styleConfig: this.props.styleConfig\n            });\n          }\n        } else if ((0, _graphql.isEnumType)(argType)) {\n          if (argValue.kind === 'EnumValue') {\n            input = React.createElement(\n              'select',\n              {\n                style: {\n                  backgroundColor: 'white',\n                  color: styleConfig.colors.string2\n                },\n                onChange: this.props.setArgValue,\n                value: argValue.value },\n              argType.getValues().map(function (value) {\n                return React.createElement(\n                  'option',\n                  { key: value.name, value: value.name },\n                  value.name\n                );\n              })\n            );\n          } else {\n            console.error('arg mismatch between arg and selection', argType, argValue);\n          }\n        } else if ((0, _graphql.isInputObjectType)(argType)) {\n          if (argValue.kind === 'ObjectValue') {\n            var _fields3 = argType.getFields();\n            input = React.createElement(\n              'div',\n              { style: { marginLeft: 16 } },\n              Object.keys(_fields3).sort().map(function (fieldName) {\n                return React.createElement(InputArgView, {\n                  key: fieldName,\n                  arg: _fields3[fieldName],\n                  parentField: _this6.props.parentField,\n                  selection: argValue,\n                  modifyFields: _this6.props.setArgFields,\n                  getDefaultScalarArgValue: _this6.props.getDefaultScalarArgValue,\n                  makeDefaultArg: _this6.props.makeDefaultArg,\n                  onRunOperation: _this6.props.onRunOperation,\n                  styleConfig: _this6.props.styleConfig,\n                  onCommit: _this6.props.onCommit,\n                  definition: _this6.props.definition\n                });\n              })\n            );\n          } else {\n            console.error('arg mismatch between arg and selection', argType, argValue);\n          }\n        }\n      }\n\n      var variablize = function variablize() {\n        /**\n        1. Find current operation variables\n        2. Find current arg value\n        3. Create a new variable\n        4. Replace current arg value with variable\n        5. Add variable to operation\n        */\n\n        var baseVariableName = arg.name;\n        var conflictingNameCount = (_this6.props.definition.variableDefinitions || []).filter(function (varDef) {\n          return varDef.variable.name.value.startsWith(baseVariableName);\n        }).length;\n\n        var variableName = void 0;\n        if (conflictingNameCount > 0) {\n          variableName = '' + baseVariableName + conflictingNameCount;\n        } else {\n          variableName = baseVariableName;\n        }\n        // To get an AST definition of our variable from the instantiated arg,\n        // we print it to a string, then parseType to get our AST.\n        var argPrintedType = arg.type.toString();\n        var argType = (0, _graphql.parseType)(argPrintedType);\n\n        var base = {\n          kind: 'VariableDefinition',\n          variable: {\n            kind: 'Variable',\n            name: {\n              kind: 'Name',\n              value: variableName\n            }\n          },\n          type: argType,\n          directives: []\n        };\n\n        var variableDefinitionByName = function variableDefinitionByName(name) {\n          return (_this6.props.definition.variableDefinitions || []).find(function (varDef) {\n            return varDef.variable.name.value === name;\n          });\n        };\n\n        var variable = void 0;\n\n        var subVariableUsageCountByName = {};\n\n        if (typeof argValue !== 'undefined' && argValue !== null) {\n          /** In the process of devariabilizing descendent selections,\n           * we may have caused their variable definitions to become unused.\n           * Keep track and remove any variable definitions with 1 or fewer usages.\n           * */\n          var cleanedDefaultValue = (0, _graphql.visit)(argValue, {\n            Variable: function Variable(node) {\n              var varName = node.name.value;\n              var varDef = variableDefinitionByName(varName);\n\n              subVariableUsageCountByName[varName] = subVariableUsageCountByName[varName] + 1 || 1;\n\n              if (!varDef) {\n                return;\n              }\n\n              return varDef.defaultValue;\n            }\n          });\n\n          var isNonNullable = base.type.kind === 'NonNullType';\n\n          // We're going to give the variable definition a default value, so we must make its type nullable\n          var unwrappedBase = isNonNullable ? _extends({}, base, { type: base.type.type }) : base;\n\n          variable = _extends({}, unwrappedBase, { defaultValue: cleanedDefaultValue });\n        } else {\n          variable = base;\n        }\n\n        var newlyUnusedVariables = Object.entries(subVariableUsageCountByName)\n        // $FlowFixMe: Can't get Object.entries to realize usageCount *must* be a number\n        .filter(function (_ref6) {\n          var _ref7 = _slicedToArray(_ref6, 2),\n              _ = _ref7[0],\n              usageCount = _ref7[1];\n\n          return usageCount < 2;\n        }).map(function (_ref8) {\n          var _ref9 = _slicedToArray(_ref8, 2),\n              varName = _ref9[0],\n              _ = _ref9[1];\n\n          return varName;\n        });\n\n        if (variable) {\n          var _newDoc = _this6.props.setArgValue(variable, false);\n\n          if (_newDoc) {\n            var targetOperation = _newDoc.definitions.find(function (definition) {\n              if (!!definition.operation && !!definition.name && !!definition.name.value &&\n              //\n              !!_this6.props.definition.name && !!_this6.props.definition.name.value) {\n                return definition.name.value === _this6.props.definition.name.value;\n              } else {\n                return false;\n              }\n            });\n\n            var newVariableDefinitions = [].concat(_toConsumableArray(targetOperation.variableDefinitions || []), [variable]).filter(function (varDef) {\n              return newlyUnusedVariables.indexOf(varDef.variable.name.value) === -1;\n            });\n\n            var newOperation = _extends({}, targetOperation, {\n              variableDefinitions: newVariableDefinitions\n            });\n\n            var existingDefs = _newDoc.definitions;\n\n            var newDefinitions = existingDefs.map(function (existingOperation) {\n              if (targetOperation === existingOperation) {\n                return newOperation;\n              } else {\n                return existingOperation;\n              }\n            });\n\n            var finalDoc = _extends({}, _newDoc, {\n              definitions: newDefinitions\n            });\n\n            _this6.props.onCommit(finalDoc);\n          }\n        }\n      };\n\n      var devariablize = function devariablize() {\n        /**\n         * 1. Find the current variable definition in the operation def\n         * 2. Extract its value\n         * 3. Replace the current arg value\n         * 4. Visit the resulting operation to see if there are any other usages of the variable\n         * 5. If not, remove the variableDefinition\n         */\n        if (!argValue || !argValue.name || !argValue.name.value) {\n          return;\n        }\n\n        var variableName = argValue.name.value;\n        var variableDefinition = (_this6.props.definition.variableDefinitions || []).find(function (varDef) {\n          return varDef.variable.name.value === variableName;\n        });\n\n        if (!variableDefinition) {\n          return;\n        }\n\n        var defaultValue = variableDefinition.defaultValue;\n\n        var newDoc = _this6.props.setArgValue(defaultValue, {\n          commit: false\n        });\n\n        if (newDoc) {\n          var targetOperation = newDoc.definitions.find(function (definition) {\n            return definition.name.value === _this6.props.definition.name.value;\n          });\n\n          if (!targetOperation) {\n            return;\n          }\n\n          // After de-variabilizing, see if the variable is still in use. If not, remove it.\n          var variableUseCount = 0;\n\n          (0, _graphql.visit)(targetOperation, {\n            Variable: function Variable(node) {\n              if (node.name.value === variableName) {\n                variableUseCount = variableUseCount + 1;\n              }\n            }\n          });\n\n          var newVariableDefinitions = targetOperation.variableDefinitions || [];\n\n          // A variable is in use if it shows up at least twice (once in the definition, once in the selection)\n          if (variableUseCount < 2) {\n            newVariableDefinitions = newVariableDefinitions.filter(function (varDef) {\n              return varDef.variable.name.value !== variableName;\n            });\n          }\n\n          var newOperation = _extends({}, targetOperation, {\n            variableDefinitions: newVariableDefinitions\n          });\n\n          var existingDefs = newDoc.definitions;\n\n          var newDefinitions = existingDefs.map(function (existingOperation) {\n            if (targetOperation === existingOperation) {\n              return newOperation;\n            } else {\n              return existingOperation;\n            }\n          });\n\n          var finalDoc = _extends({}, newDoc, {\n            definitions: newDefinitions\n          });\n\n          _this6.props.onCommit(finalDoc);\n        }\n      };\n\n      var isArgValueVariable = argValue && argValue.kind === 'Variable';\n\n      var variablizeActionButton = !this.state.displayArgActions ? null : React.createElement(\n        'button',\n        {\n          type: 'submit',\n          className: 'toolbar-button',\n          title: isArgValueVariable ? 'Remove the variable' : 'Extract the current value into a GraphQL variable',\n          onClick: function onClick(event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            if (isArgValueVariable) {\n              devariablize();\n            } else {\n              variablize();\n            }\n          },\n          style: styleConfig.styles.actionButtonStyle },\n        React.createElement(\n          'span',\n          { style: { color: styleConfig.colors.variable } },\n          '$'\n        )\n      );\n\n      return React.createElement(\n        'div',\n        {\n          style: {\n            cursor: 'pointer',\n            minHeight: '16px',\n            WebkitUserSelect: 'none',\n            userSelect: 'none'\n          },\n          'data-arg-name': arg.name,\n          'data-arg-type': argType.name,\n          className: 'graphiql-explorer-' + arg.name },\n        React.createElement(\n          'span',\n          {\n            style: { cursor: 'pointer' },\n            onClick: function onClick(event) {\n              var shouldAdd = !argValue;\n              if (shouldAdd) {\n                _this6.props.addArg(true);\n              } else {\n                _this6.props.removeArg(true);\n              }\n              _this6.setState({ displayArgActions: shouldAdd });\n            } },\n          (0, _graphql.isInputObjectType)(argType) ? React.createElement(\n            'span',\n            null,\n            !!argValue ? this.props.styleConfig.arrowOpen : this.props.styleConfig.arrowClosed\n          ) : React.createElement(Checkbox, {\n            checked: !!argValue,\n            styleConfig: this.props.styleConfig\n          }),\n          React.createElement(\n            'span',\n            {\n              style: { color: styleConfig.colors.attribute },\n              title: arg.description,\n              onMouseEnter: function onMouseEnter() {\n                // Make implementation a bit easier and only show 'variablize' action if arg is already added\n                if (argValue !== null && typeof argValue !== 'undefined') {\n                  _this6.setState({ displayArgActions: true });\n                }\n              },\n              onMouseLeave: function onMouseLeave() {\n                return _this6.setState({ displayArgActions: false });\n              } },\n            arg.name,\n            isRequiredArgument(arg) ? '*' : '',\n            ': ',\n            variablizeActionButton,\n            ' '\n          ),\n          ' '\n        ),\n        input || React.createElement('span', null),\n        ' '\n      );\n    }\n  }]);\n\n  return AbstractArgView;\n}(React.PureComponent);\n\nvar AbstractView = function (_React$PureComponent5) {\n  _inherits(AbstractView, _React$PureComponent5);\n\n  function AbstractView() {\n    var _ref10;\n\n    var _temp5, _this7, _ret5;\n\n    _classCallCheck(this, AbstractView);\n\n    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return _ret5 = (_temp5 = (_this7 = _possibleConstructorReturn(this, (_ref10 = AbstractView.__proto__ || Object.getPrototypeOf(AbstractView)).call.apply(_ref10, [this].concat(args))), _this7), _this7._addFragment = function () {\n      _this7.props.modifySelections([].concat(_toConsumableArray(_this7.props.selections), [_this7._previousSelection || {\n        kind: 'InlineFragment',\n        typeCondition: {\n          kind: 'NamedType',\n          name: { kind: 'Name', value: _this7.props.implementingType.name }\n        },\n        selectionSet: {\n          kind: 'SelectionSet',\n          selections: _this7.props.getDefaultFieldNames(_this7.props.implementingType).map(function (fieldName) {\n            return {\n              kind: 'Field',\n              name: { kind: 'Name', value: fieldName }\n            };\n          })\n        }\n      }]));\n    }, _this7._removeFragment = function () {\n      var thisSelection = _this7._getSelection();\n      _this7._previousSelection = thisSelection;\n      _this7.props.modifySelections(_this7.props.selections.filter(function (s) {\n        return s !== thisSelection;\n      }));\n    }, _this7._getSelection = function () {\n      var selection = _this7.props.selections.find(function (selection) {\n        return selection.kind === 'InlineFragment' && selection.typeCondition && _this7.props.implementingType.name === selection.typeCondition.name.value;\n      });\n      if (!selection) {\n        return null;\n      }\n      if (selection.kind === 'InlineFragment') {\n        return selection;\n      }\n    }, _this7._modifyChildSelections = function (selections, options) {\n      var thisSelection = _this7._getSelection();\n      return _this7.props.modifySelections(_this7.props.selections.map(function (selection) {\n        if (selection === thisSelection) {\n          return {\n            directives: selection.directives,\n            kind: 'InlineFragment',\n            typeCondition: {\n              kind: 'NamedType',\n              name: { kind: 'Name', value: _this7.props.implementingType.name }\n            },\n            selectionSet: {\n              kind: 'SelectionSet',\n              selections: selections\n            }\n          };\n        }\n        return selection;\n      }), options);\n    }, _temp5), _possibleConstructorReturn(_this7, _ret5);\n  }\n\n  _createClass(AbstractView, [{\n    key: 'render',\n    value: function render() {\n      var _this8 = this;\n\n      var _props5 = this.props,\n          implementingType = _props5.implementingType,\n          schema = _props5.schema,\n          getDefaultFieldNames = _props5.getDefaultFieldNames,\n          styleConfig = _props5.styleConfig;\n\n      var selection = this._getSelection();\n      var fields = implementingType.getFields();\n      var childSelections = selection ? selection.selectionSet ? selection.selectionSet.selections : [] : [];\n\n      return React.createElement(\n        'div',\n        { className: 'graphiql-explorer-' + implementingType.name },\n        React.createElement(\n          'span',\n          {\n            style: { cursor: 'pointer' },\n            onClick: selection ? this._removeFragment : this._addFragment },\n          React.createElement(Checkbox, {\n            checked: !!selection,\n            styleConfig: this.props.styleConfig\n          }),\n          React.createElement(\n            'span',\n            { style: { color: styleConfig.colors.atom } },\n            this.props.implementingType.name\n          )\n        ),\n        selection ? React.createElement(\n          'div',\n          { style: { marginLeft: 16 } },\n          Object.keys(fields).sort().map(function (fieldName) {\n            return React.createElement(FieldView, {\n              key: fieldName,\n              field: fields[fieldName],\n              selections: childSelections,\n              modifySelections: _this8._modifyChildSelections,\n              schema: schema,\n              getDefaultFieldNames: getDefaultFieldNames,\n              getDefaultScalarArgValue: _this8.props.getDefaultScalarArgValue,\n              makeDefaultArg: _this8.props.makeDefaultArg,\n              onRunOperation: _this8.props.onRunOperation,\n              onCommit: _this8.props.onCommit,\n              styleConfig: _this8.props.styleConfig,\n              definition: _this8.props.definition,\n              availableFragments: _this8.props.availableFragments\n            });\n          })\n        ) : null\n      );\n    }\n  }]);\n\n  return AbstractView;\n}(React.PureComponent);\n\nvar FragmentView = function (_React$PureComponent6) {\n  _inherits(FragmentView, _React$PureComponent6);\n\n  function FragmentView() {\n    var _ref11;\n\n    var _temp6, _this9, _ret6;\n\n    _classCallCheck(this, FragmentView);\n\n    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    return _ret6 = (_temp6 = (_this9 = _possibleConstructorReturn(this, (_ref11 = FragmentView.__proto__ || Object.getPrototypeOf(FragmentView)).call.apply(_ref11, [this].concat(args))), _this9), _this9._addFragment = function () {\n      _this9.props.modifySelections([].concat(_toConsumableArray(_this9.props.selections), [_this9._previousSelection || {\n        kind: 'FragmentSpread',\n        name: _this9.props.fragment.name\n      }]));\n    }, _this9._removeFragment = function () {\n      var thisSelection = _this9._getSelection();\n      _this9._previousSelection = thisSelection;\n      _this9.props.modifySelections(_this9.props.selections.filter(function (s) {\n        var isTargetSelection = s.kind === 'FragmentSpread' && s.name.value === _this9.props.fragment.name.value;\n\n        return !isTargetSelection;\n      }));\n    }, _this9._getSelection = function () {\n      var selection = _this9.props.selections.find(function (selection) {\n        return selection.kind === 'FragmentSpread' && selection.name.value === _this9.props.fragment.name.value;\n      });\n\n      return selection;\n    }, _temp6), _possibleConstructorReturn(_this9, _ret6);\n  }\n\n  _createClass(FragmentView, [{\n    key: 'render',\n    value: function render() {\n      var styleConfig = this.props.styleConfig;\n\n      var selection = this._getSelection();\n      return React.createElement(\n        'div',\n        { className: 'graphiql-explorer-' + this.props.fragment.name.value },\n        React.createElement(\n          'span',\n          {\n            style: { cursor: 'pointer' },\n            onClick: selection ? this._removeFragment : this._addFragment },\n          React.createElement(Checkbox, {\n            checked: !!selection,\n            styleConfig: this.props.styleConfig\n          }),\n          React.createElement(\n            'span',\n            {\n              style: { color: styleConfig.colors.def },\n              className: 'graphiql-explorer-' + this.props.fragment.name.value },\n            this.props.fragment.name.value\n          )\n        )\n      );\n    }\n  }]);\n\n  return FragmentView;\n}(React.PureComponent);\n\nfunction defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, fields) {\n  var nodes = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _field = _step.value;\n\n      if ((0, _graphql.isRequiredInputField)(_field) || makeDefaultArg && makeDefaultArg(parentField, _field)) {\n        var fieldType = unwrapInputType(_field.type);\n        if ((0, _graphql.isInputObjectType)(fieldType)) {\n          (function () {\n            var fields = fieldType.getFields();\n            nodes.push({\n              kind: 'ObjectField',\n              name: { kind: 'Name', value: _field.name },\n              value: {\n                kind: 'ObjectValue',\n                fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, parentField, Object.keys(fields).map(function (k) {\n                  return fields[k];\n                }))\n              }\n            });\n          })();\n        } else if ((0, _graphql.isLeafType)(fieldType)) {\n          nodes.push({\n            kind: 'ObjectField',\n            name: { kind: 'Name', value: _field.name },\n            value: getDefaultScalarArgValue(parentField, _field, fieldType)\n          });\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return nodes;\n}\n\nfunction defaultArgs(getDefaultScalarArgValue, makeDefaultArg, field) {\n  var args = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = field.args[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _arg = _step2.value;\n\n      if (isRequiredArgument(_arg) || makeDefaultArg && makeDefaultArg(field, _arg)) {\n        var argType = unwrapInputType(_arg.type);\n        if ((0, _graphql.isInputObjectType)(argType)) {\n          (function () {\n            var fields = argType.getFields();\n            args.push({\n              kind: 'Argument',\n              name: { kind: 'Name', value: _arg.name },\n              value: {\n                kind: 'ObjectValue',\n                fields: defaultInputObjectFields(getDefaultScalarArgValue, makeDefaultArg, field, Object.keys(fields).map(function (k) {\n                  return fields[k];\n                }))\n              }\n            });\n          })();\n        } else if ((0, _graphql.isLeafType)(argType)) {\n          args.push({\n            kind: 'Argument',\n            name: { kind: 'Name', value: _arg.name },\n            value: getDefaultScalarArgValue(field, _arg, argType)\n          });\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return args;\n}\n\nvar FieldView = function (_React$PureComponent7) {\n  _inherits(FieldView, _React$PureComponent7);\n\n  function FieldView() {\n    var _ref12;\n\n    var _temp7, _this10, _ret9;\n\n    _classCallCheck(this, FieldView);\n\n    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n\n    return _ret9 = (_temp7 = (_this10 = _possibleConstructorReturn(this, (_ref12 = FieldView.__proto__ || Object.getPrototypeOf(FieldView)).call.apply(_ref12, [this].concat(args))), _this10), _this10.state = { displayFieldActions: false }, _this10._addAllFieldsToSelections = function (rawSubfields) {\n      var subFields = !!rawSubfields ? Object.keys(rawSubfields).map(function (fieldName) {\n        return {\n          kind: 'Field',\n          name: { kind: 'Name', value: fieldName },\n          arguments: []\n        };\n      }) : [];\n\n      var subSelectionSet = {\n        kind: 'SelectionSet',\n        selections: subFields\n      };\n\n      var nextSelections = [].concat(_toConsumableArray(_this10.props.selections.filter(function (selection) {\n        if (selection.kind === 'InlineFragment') {\n          return true;\n        } else {\n          // Remove the current selection set for the target field\n          return selection.name.value !== _this10.props.field.name;\n        }\n      })), [{\n        kind: 'Field',\n        name: { kind: 'Name', value: _this10.props.field.name },\n        arguments: defaultArgs(_this10.props.getDefaultScalarArgValue, _this10.props.makeDefaultArg, _this10.props.field),\n        selectionSet: subSelectionSet\n      }]);\n\n      _this10.props.modifySelections(nextSelections);\n    }, _this10._addFieldToSelections = function (rawSubfields) {\n      var nextSelections = [].concat(_toConsumableArray(_this10.props.selections), [_this10._previousSelection || {\n        kind: 'Field',\n        name: { kind: 'Name', value: _this10.props.field.name },\n        arguments: defaultArgs(_this10.props.getDefaultScalarArgValue, _this10.props.makeDefaultArg, _this10.props.field)\n      }]);\n\n      _this10.props.modifySelections(nextSelections);\n    }, _this10._handleUpdateSelections = function (event) {\n      var selection = _this10._getSelection();\n      if (selection && !event.altKey) {\n        _this10._removeFieldFromSelections();\n      } else {\n        var fieldType = (0, _graphql.getNamedType)(_this10.props.field.type);\n        var rawSubfields = (0, _graphql.isObjectType)(fieldType) && fieldType.getFields();\n\n        var shouldSelectAllSubfields = !!rawSubfields && event.altKey;\n\n        shouldSelectAllSubfields ? _this10._addAllFieldsToSelections(rawSubfields) : _this10._addFieldToSelections(rawSubfields);\n      }\n    }, _this10._removeFieldFromSelections = function () {\n      var previousSelection = _this10._getSelection();\n      _this10._previousSelection = previousSelection;\n      _this10.props.modifySelections(_this10.props.selections.filter(function (selection) {\n        return selection !== previousSelection;\n      }));\n    }, _this10._getSelection = function () {\n      var selection = _this10.props.selections.find(function (selection) {\n        return selection.kind === 'Field' && _this10.props.field.name === selection.name.value;\n      });\n      if (!selection) {\n        return null;\n      }\n      if (selection.kind === 'Field') {\n        return selection;\n      }\n    }, _this10._setArguments = function (argumentNodes, options) {\n      var selection = _this10._getSelection();\n      if (!selection) {\n        console.error('Missing selection when setting arguments', argumentNodes);\n        return;\n      }\n      return _this10.props.modifySelections(_this10.props.selections.map(function (s) {\n        return s === selection ? {\n          alias: selection.alias,\n          arguments: argumentNodes,\n          directives: selection.directives,\n          kind: 'Field',\n          name: selection.name,\n          selectionSet: selection.selectionSet\n        } : s;\n      }), options);\n    }, _this10._modifyChildSelections = function (selections, options) {\n      return _this10.props.modifySelections(_this10.props.selections.map(function (selection) {\n        if (selection.kind === 'Field' && _this10.props.field.name === selection.name.value) {\n          if (selection.kind !== 'Field') {\n            throw new Error('invalid selection');\n          }\n          return {\n            alias: selection.alias,\n            arguments: selection.arguments,\n            directives: selection.directives,\n            kind: 'Field',\n            name: selection.name,\n            selectionSet: {\n              kind: 'SelectionSet',\n              selections: selections\n            }\n          };\n        }\n        return selection;\n      }), options);\n    }, _temp7), _possibleConstructorReturn(_this10, _ret9);\n  }\n\n  _createClass(FieldView, [{\n    key: 'render',\n    value: function render() {\n      var _this11 = this;\n\n      var _props6 = this.props,\n          field = _props6.field,\n          schema = _props6.schema,\n          getDefaultFieldNames = _props6.getDefaultFieldNames,\n          styleConfig = _props6.styleConfig;\n\n      var selection = this._getSelection();\n      var type = unwrapOutputType(field.type);\n      var args = field.args.sort(function (a, b) {\n        return a.name.localeCompare(b.name);\n      });\n      var className = 'graphiql-explorer-node graphiql-explorer-' + field.name;\n\n      if (field.isDeprecated) {\n        className += ' graphiql-explorer-deprecated';\n      }\n\n      var applicableFragments = (0, _graphql.isObjectType)(type) || (0, _graphql.isInterfaceType)(type) || (0, _graphql.isUnionType)(type) ? this.props.availableFragments && this.props.availableFragments[type.name] : null;\n\n      var node = React.createElement(\n        'div',\n        { className: className },\n        React.createElement(\n          'span',\n          {\n            title: field.description,\n            style: {\n              cursor: 'pointer',\n              display: 'inline-flex',\n              alignItems: 'center',\n              minHeight: '16px',\n              WebkitUserSelect: 'none',\n              userSelect: 'none'\n            },\n            'data-field-name': field.name,\n            'data-field-type': type.name,\n            onClick: this._handleUpdateSelections,\n            onMouseEnter: function onMouseEnter() {\n              var containsMeaningfulSubselection = (0, _graphql.isObjectType)(type) && selection && selection.selectionSet && selection.selectionSet.selections.filter(function (selection) {\n                return selection.kind !== 'FragmentSpread';\n              }).length > 0;\n\n              if (containsMeaningfulSubselection) {\n                _this11.setState({ displayFieldActions: true });\n              }\n            },\n            onMouseLeave: function onMouseLeave() {\n              return _this11.setState({ displayFieldActions: false });\n            } },\n          (0, _graphql.isObjectType)(type) ? React.createElement(\n            'span',\n            null,\n            !!selection ? this.props.styleConfig.arrowOpen : this.props.styleConfig.arrowClosed\n          ) : null,\n          (0, _graphql.isObjectType)(type) ? null : React.createElement(Checkbox, {\n            checked: !!selection,\n            styleConfig: this.props.styleConfig\n          }),\n          React.createElement(\n            'span',\n            {\n              style: { color: styleConfig.colors.property },\n              className: 'graphiql-explorer-field-view' },\n            field.name\n          ),\n          !this.state.displayFieldActions ? null : React.createElement(\n            'button',\n            {\n              type: 'submit',\n              className: 'toolbar-button',\n              title: 'Extract selections into a new reusable fragment',\n              onClick: function onClick(event) {\n                event.preventDefault();\n                event.stopPropagation();\n                // 1. Create a fragment spread node\n                // 2. Copy selections from this object to fragment\n                // 3. Replace selections in this object with fragment spread\n                // 4. Add fragment to document\n                var typeName = type.name;\n                var newFragmentName = typeName + 'Fragment';\n\n                var conflictingNameCount = (applicableFragments || []).filter(function (fragment) {\n                  return fragment.name.value.startsWith(newFragmentName);\n                }).length;\n\n                if (conflictingNameCount > 0) {\n                  newFragmentName = '' + newFragmentName + conflictingNameCount;\n                }\n\n                var childSelections = selection ? selection.selectionSet ? selection.selectionSet.selections : [] : [];\n\n                var nextSelections = [{\n                  kind: 'FragmentSpread',\n                  name: {\n                    kind: 'Name',\n                    value: newFragmentName\n                  },\n                  directives: []\n                }];\n\n                var newFragmentDefinition = {\n                  kind: 'FragmentDefinition',\n                  name: {\n                    kind: 'Name',\n                    value: newFragmentName\n                  },\n                  typeCondition: {\n                    kind: 'NamedType',\n                    name: {\n                      kind: 'Name',\n                      value: type.name\n                    }\n                  },\n                  directives: [],\n                  selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: childSelections\n                  }\n                };\n\n                var newDoc = _this11._modifyChildSelections(nextSelections, false);\n\n                if (newDoc) {\n                  var newDocWithFragment = _extends({}, newDoc, {\n                    definitions: [].concat(_toConsumableArray(newDoc.definitions), [newFragmentDefinition])\n                  });\n\n                  _this11.props.onCommit(newDocWithFragment);\n                } else {\n                  console.warn('Unable to complete extractFragment operation');\n                }\n              },\n              style: _extends({}, styleConfig.styles.actionButtonStyle) },\n            React.createElement(\n              'span',\n              null,\n              ''\n            )\n          )\n        ),\n        selection && args.length ? React.createElement(\n          'div',\n          {\n            style: { marginLeft: 16 },\n            className: 'graphiql-explorer-graphql-arguments' },\n          args.map(function (arg) {\n            return React.createElement(ArgView, {\n              key: arg.name,\n              parentField: field,\n              arg: arg,\n              selection: selection,\n              modifyArguments: _this11._setArguments,\n              getDefaultScalarArgValue: _this11.props.getDefaultScalarArgValue,\n              makeDefaultArg: _this11.props.makeDefaultArg,\n              onRunOperation: _this11.props.onRunOperation,\n              styleConfig: _this11.props.styleConfig,\n              onCommit: _this11.props.onCommit,\n              definition: _this11.props.definition\n            });\n          })\n        ) : null\n      );\n\n      if (selection && ((0, _graphql.isObjectType)(type) || (0, _graphql.isInterfaceType)(type) || (0, _graphql.isUnionType)(type))) {\n        var _fields4 = (0, _graphql.isUnionType)(type) ? {} : type.getFields();\n        var childSelections = selection ? selection.selectionSet ? selection.selectionSet.selections : [] : [];\n        return React.createElement(\n          'div',\n          { className: 'graphiql-explorer-' + field.name },\n          node,\n          React.createElement(\n            'div',\n            { style: { marginLeft: 16 } },\n            !!applicableFragments ? applicableFragments.map(function (fragment) {\n              var type = schema.getType(fragment.typeCondition.name.value);\n              var fragmentName = fragment.name.value;\n              return !type ? null : React.createElement(FragmentView, {\n                key: fragmentName,\n                fragment: fragment,\n                selections: childSelections,\n                modifySelections: _this11._modifyChildSelections,\n                schema: schema,\n                styleConfig: _this11.props.styleConfig,\n                onCommit: _this11.props.onCommit\n              });\n            }) : null,\n            Object.keys(_fields4).sort().map(function (fieldName) {\n              return React.createElement(FieldView, {\n                key: fieldName,\n                field: _fields4[fieldName],\n                selections: childSelections,\n                modifySelections: _this11._modifyChildSelections,\n                schema: schema,\n                getDefaultFieldNames: getDefaultFieldNames,\n                getDefaultScalarArgValue: _this11.props.getDefaultScalarArgValue,\n                makeDefaultArg: _this11.props.makeDefaultArg,\n                onRunOperation: _this11.props.onRunOperation,\n                styleConfig: _this11.props.styleConfig,\n                onCommit: _this11.props.onCommit,\n                definition: _this11.props.definition,\n                availableFragments: _this11.props.availableFragments\n              });\n            }),\n            (0, _graphql.isInterfaceType)(type) || (0, _graphql.isUnionType)(type) ? schema.getPossibleTypes(type).map(function (type) {\n              return React.createElement(AbstractView, {\n                key: type.name,\n                implementingType: type,\n                selections: childSelections,\n                modifySelections: _this11._modifyChildSelections,\n                schema: schema,\n                getDefaultFieldNames: getDefaultFieldNames,\n                getDefaultScalarArgValue: _this11.props.getDefaultScalarArgValue,\n                makeDefaultArg: _this11.props.makeDefaultArg,\n                onRunOperation: _this11.props.onRunOperation,\n                styleConfig: _this11.props.styleConfig,\n                onCommit: _this11.props.onCommit,\n                definition: _this11.props.definition\n              });\n            }) : null\n          )\n        );\n      }\n      return node;\n    }\n  }]);\n\n  return FieldView;\n}(React.PureComponent);\n\nfunction parseQuery(text) {\n  try {\n    if (!text.trim()) {\n      return null;\n    }\n    return (0, _graphql.parse)(text,\n    // Tell graphql to not bother track locations when parsing, we don't need\n    // it and it's a tiny bit more expensive.\n    { noLocation: true });\n  } catch (e) {\n    return new Error(e);\n  }\n}\n\nvar DEFAULT_OPERATION = {\n  kind: 'OperationDefinition',\n  operation: 'query',\n  variableDefinitions: [],\n  name: { kind: 'Name', value: 'MyQuery' },\n  directives: [],\n  selectionSet: {\n    kind: 'SelectionSet',\n    selections: []\n  }\n};\nvar DEFAULT_DOCUMENT = {\n  kind: 'Document',\n  definitions: [DEFAULT_OPERATION]\n};\nvar parseQueryMemoize = null;\nfunction memoizeParseQuery(query) {\n  if (parseQueryMemoize && parseQueryMemoize[0] === query) {\n    return parseQueryMemoize[1];\n  } else {\n    var result = parseQuery(query);\n    if (!result) {\n      return DEFAULT_DOCUMENT;\n    } else if (result instanceof Error) {\n      if (parseQueryMemoize) {\n        // Most likely a temporarily invalid query while they type\n        return parseQueryMemoize[1];\n      } else {\n        return DEFAULT_DOCUMENT;\n      }\n    } else {\n      parseQueryMemoize = [query, result];\n      return result;\n    }\n  }\n}\n\nvar defaultStyles = {\n  buttonStyle: {\n    fontSize: '1.2em',\n    padding: '0px',\n    backgroundColor: 'white',\n    border: 'none',\n    margin: '5px 0px',\n    height: '40px',\n    width: '100%',\n    display: 'block',\n    maxWidth: 'none'\n  },\n\n  actionButtonStyle: {\n    padding: '0px',\n    backgroundColor: 'white',\n    border: 'none',\n    margin: '0px',\n    maxWidth: 'none',\n    height: '15px',\n    width: '15px',\n    display: 'inline-block',\n    fontSize: 'smaller'\n  },\n\n  explorerActionsStyle: {\n    margin: '4px -8px -8px',\n    paddingLeft: '8px',\n    bottom: '0px',\n    width: '100%',\n    textAlign: 'center',\n    background: 'none',\n    borderTop: 'none',\n    borderBottom: 'none'\n  }\n};\n\nvar RootView = function (_React$PureComponent8) {\n  _inherits(RootView, _React$PureComponent8);\n\n  function RootView() {\n    var _ref13;\n\n    var _temp8, _this12, _ret10;\n\n    _classCallCheck(this, RootView);\n\n    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n\n    return _ret10 = (_temp8 = (_this12 = _possibleConstructorReturn(this, (_ref13 = RootView.__proto__ || Object.getPrototypeOf(RootView)).call.apply(_ref13, [this].concat(args))), _this12), _this12.state = { newOperationType: 'query', displayTitleActions: false }, _this12._modifySelections = function (selections, options) {\n      var operationDef = _this12.props.definition;\n\n      if (operationDef.selectionSet.selections.length === 0 && _this12._previousOperationDef) {\n        operationDef = _this12._previousOperationDef;\n      }\n\n      var newOperationDef = void 0;\n\n      if (operationDef.kind === 'FragmentDefinition') {\n        newOperationDef = _extends({}, operationDef, {\n          selectionSet: _extends({}, operationDef.selectionSet, {\n            selections: selections\n          })\n        });\n      } else if (operationDef.kind === 'OperationDefinition') {\n        var cleanedSelections = selections.filter(function (selection) {\n          return !(selection.kind === 'Field' && selection.name.value === '__typename');\n        });\n\n        if (cleanedSelections.length === 0) {\n          cleanedSelections = [{\n            kind: 'Field',\n            name: {\n              kind: 'Name',\n              value: '__typename ## Placeholder value'\n            }\n          }];\n        }\n\n        newOperationDef = _extends({}, operationDef, {\n          selectionSet: _extends({}, operationDef.selectionSet, {\n            selections: cleanedSelections\n          })\n        });\n      }\n\n      return _this12.props.onEdit(newOperationDef, options);\n    }, _this12._onOperationRename = function (event) {\n      return _this12.props.onOperationRename(event.target.value);\n    }, _this12._handlePotentialRun = function (event) {\n      if (isRunShortcut(event) && canRunOperation(_this12.props.definition.kind)) {\n        _this12.props.onRunOperation(_this12.props.name);\n      }\n    }, _this12._rootViewElId = function () {\n      var _this12$props = _this12.props,\n          operationType = _this12$props.operationType,\n          name = _this12$props.name;\n\n      var rootViewElId = operationType + '-' + (name || 'unknown');\n      return rootViewElId;\n    }, _temp8), _possibleConstructorReturn(_this12, _ret10);\n  }\n\n  _createClass(RootView, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var rootViewElId = this._rootViewElId();\n\n      this.props.onMount(rootViewElId);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this13 = this;\n\n      var _props7 = this.props,\n          operationType = _props7.operationType,\n          definition = _props7.definition,\n          schema = _props7.schema,\n          getDefaultFieldNames = _props7.getDefaultFieldNames,\n          styleConfig = _props7.styleConfig;\n\n      var rootViewElId = this._rootViewElId();\n\n      var fields = this.props.fields || {};\n      var operationDef = definition;\n      var selections = operationDef.selectionSet.selections;\n\n      var operationDisplayName = this.props.name || capitalize(operationType) + ' Name';\n\n      return React.createElement(\n        'div',\n        {\n          id: rootViewElId,\n          tabIndex: '0',\n          onKeyDown: this._handlePotentialRun,\n          style: {\n            // The actions bar has its own top border\n            borderBottom: this.props.isLast ? 'none' : '1px solid #d6d6d6',\n            marginBottom: '0em',\n            paddingBottom: '1em'\n          } },\n        React.createElement(\n          'div',\n          {\n            style: { color: styleConfig.colors.keyword, paddingBottom: 4 },\n            className: 'graphiql-operation-title-bar',\n            onMouseEnter: function onMouseEnter() {\n              return _this13.setState({ displayTitleActions: true });\n            },\n            onMouseLeave: function onMouseLeave() {\n              return _this13.setState({ displayTitleActions: false });\n            } },\n          operationType,\n          ' ',\n          React.createElement(\n            'span',\n            { style: { color: styleConfig.colors.def } },\n            React.createElement('input', {\n              style: {\n                color: styleConfig.colors.def,\n                border: 'none',\n                borderBottom: '1px solid #888',\n                outline: 'none',\n                width: Math.max(4, operationDisplayName.length) + 'ch'\n              },\n              autoComplete: 'false',\n              placeholder: capitalize(operationType) + ' Name',\n              value: this.props.name,\n              onKeyDown: this._handlePotentialRun,\n              onChange: this._onOperationRename\n            })\n          ),\n          !!this.props.onTypeName ? React.createElement(\n            'span',\n            null,\n            React.createElement('br', null),\n            'on ' + this.props.onTypeName\n          ) : '',\n          !!this.state.displayTitleActions ? React.createElement(\n            React.Fragment,\n            null,\n            React.createElement(\n              'button',\n              {\n                type: 'submit',\n                className: 'toolbar-button',\n                onClick: function onClick() {\n                  return _this13.props.onOperationDestroy();\n                },\n                style: _extends({}, styleConfig.styles.actionButtonStyle) },\n              React.createElement(\n                'span',\n                null,\n                '\\u2715'\n              )\n            ),\n            React.createElement(\n              'button',\n              {\n                type: 'submit',\n                className: 'toolbar-button',\n                onClick: function onClick() {\n                  return _this13.props.onOperationClone();\n                },\n                style: _extends({}, styleConfig.styles.actionButtonStyle) },\n              React.createElement(\n                'span',\n                null,\n                ''\n              )\n            )\n          ) : ''\n        ),\n        Object.keys(fields).sort().map(function (fieldName) {\n          return React.createElement(FieldView, {\n            key: fieldName,\n            field: fields[fieldName],\n            selections: selections,\n            modifySelections: _this13._modifySelections,\n            schema: schema,\n            getDefaultFieldNames: getDefaultFieldNames,\n            getDefaultScalarArgValue: _this13.props.getDefaultScalarArgValue,\n            makeDefaultArg: _this13.props.makeDefaultArg,\n            onRunOperation: _this13.props.onRunOperation,\n            styleConfig: _this13.props.styleConfig,\n            onCommit: _this13.props.onCommit,\n            definition: _this13.props.definition,\n            availableFragments: _this13.props.availableFragments\n          });\n        })\n      );\n    }\n  }]);\n\n  return RootView;\n}(React.PureComponent);\n\nfunction Attribution() {\n  return React.createElement(\n    'div',\n    {\n      style: {\n        fontFamily: 'sans-serif',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        margin: '1em',\n        marginTop: 0,\n        flexGrow: 1,\n        justifyContent: 'flex-end'\n      } },\n    React.createElement(\n      'div',\n      {\n        style: {\n          borderTop: '1px solid #d6d6d6',\n          paddingTop: '1em',\n          width: '100%',\n          textAlign: 'center'\n        } },\n      'GraphiQL Explorer by ',\n      React.createElement(\n        'a',\n        { href: 'https://www.onegraph.com' },\n        'OneGraph'\n      )\n    ),\n    React.createElement(\n      'div',\n      null,\n      'Contribute on',\n      ' ',\n      React.createElement(\n        'a',\n        { href: 'https://github.com/OneGraph/graphiql-explorer' },\n        'GitHub'\n      )\n    )\n  );\n}\n\nvar Explorer = function (_React$PureComponent9) {\n  _inherits(Explorer, _React$PureComponent9);\n\n  function Explorer() {\n    var _ref14;\n\n    var _temp9, _this14, _ret11;\n\n    _classCallCheck(this, Explorer);\n\n    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n\n    return _ret11 = (_temp9 = (_this14 = _possibleConstructorReturn(this, (_ref14 = Explorer.__proto__ || Object.getPrototypeOf(Explorer)).call.apply(_ref14, [this].concat(args))), _this14), _this14.state = {\n      newOperationType: 'query',\n      operation: null,\n      operationToScrollTo: null\n    }, _this14._resetScroll = function () {\n      var container = _this14._ref;\n      if (container) {\n        container.scrollLeft = 0;\n      }\n    }, _this14._onEdit = function (query) {\n      return _this14.props.onEdit(query);\n    }, _this14._setAddOperationType = function (value) {\n      _this14.setState({ newOperationType: value });\n    }, _this14._handleRootViewMount = function (rootViewElId) {\n      if (!!_this14.state.operationToScrollTo && _this14.state.operationToScrollTo === rootViewElId) {\n        var selector = '.graphiql-explorer-root #' + rootViewElId;\n\n        var el = document.querySelector(selector);\n        el && el.scrollIntoView();\n      }\n    }, _temp9), _possibleConstructorReturn(_this14, _ret11);\n  }\n\n  _createClass(Explorer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._resetScroll();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this15 = this;\n\n      var _props8 = this.props,\n          schema = _props8.schema,\n          query = _props8.query,\n          makeDefaultArg = _props8.makeDefaultArg;\n\n\n      if (!schema) {\n        return React.createElement(\n          'div',\n          { style: { fontFamily: 'sans-serif' }, className: 'error-container' },\n          'No Schema Available'\n        );\n      }\n      var styleConfig = {\n        colors: this.props.colors || defaultColors,\n        checkboxChecked: this.props.checkboxChecked || defaultCheckboxChecked,\n        checkboxUnchecked: this.props.checkboxUnchecked || defaultCheckboxUnchecked,\n        arrowClosed: this.props.arrowClosed || defaultArrowClosed,\n        arrowOpen: this.props.arrowOpen || defaultArrowOpen,\n        styles: this.props.styles ? _extends({}, defaultStyles, this.props.styles) : defaultStyles\n      };\n      var queryType = schema.getQueryType();\n      var mutationType = schema.getMutationType();\n      var subscriptionType = schema.getSubscriptionType();\n      if (!queryType && !mutationType && !subscriptionType) {\n        return React.createElement(\n          'div',\n          null,\n          'Missing query type'\n        );\n      }\n      var queryFields = queryType && queryType.getFields();\n      var mutationFields = mutationType && mutationType.getFields();\n      var subscriptionFields = subscriptionType && subscriptionType.getFields();\n\n      var parsedQuery = memoizeParseQuery(query);\n      var getDefaultFieldNames = this.props.getDefaultFieldNames || defaultGetDefaultFieldNames;\n      var getDefaultScalarArgValue = this.props.getDefaultScalarArgValue || defaultGetDefaultScalarArgValue;\n\n      var definitions = parsedQuery.definitions;\n\n      var _relevantOperations = definitions.map(function (definition) {\n        if (definition.kind === 'FragmentDefinition') {\n          return definition;\n        } else if (definition.kind === 'OperationDefinition') {\n          return definition;\n        } else {\n          return null;\n        }\n      }).filter(Boolean);\n\n      var relevantOperations =\n      // If we don't have any relevant definitions from the parsed document,\n      // then at least show an expanded Query selection\n      _relevantOperations.length === 0 ? DEFAULT_DOCUMENT.definitions : _relevantOperations;\n\n      var renameOperation = function renameOperation(targetOperation, name) {\n        var newName = name == null || name === '' ? null : { kind: 'Name', value: name, loc: undefined };\n        var newOperation = _extends({}, targetOperation, { name: newName });\n\n        var existingDefs = parsedQuery.definitions;\n\n        var newDefinitions = existingDefs.map(function (existingOperation) {\n          if (targetOperation === existingOperation) {\n            return newOperation;\n          } else {\n            return existingOperation;\n          }\n        });\n\n        return _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n      };\n\n      var cloneOperation = function cloneOperation(targetOperation) {\n        var kind = void 0;\n        if (targetOperation.kind === 'FragmentDefinition') {\n          kind = 'fragment';\n        } else {\n          kind = targetOperation.operation;\n        }\n\n        var newOperationName = (targetOperation.name && targetOperation.name.value || '') + 'Copy';\n\n        var newName = {\n          kind: 'Name',\n          value: newOperationName,\n          loc: undefined\n        };\n\n        var newOperation = _extends({}, targetOperation, { name: newName });\n\n        var existingDefs = parsedQuery.definitions;\n\n        var newDefinitions = [].concat(_toConsumableArray(existingDefs), [newOperation]);\n\n        _this15.setState({ operationToScrollTo: kind + '-' + newOperationName });\n\n        return _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n      };\n\n      var destroyOperation = function destroyOperation(targetOperation) {\n        var existingDefs = parsedQuery.definitions;\n\n        var newDefinitions = existingDefs.filter(function (existingOperation) {\n          if (targetOperation === existingOperation) {\n            return false;\n          } else {\n            return true;\n          }\n        });\n\n        return _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n      };\n\n      var addOperation = function addOperation(kind) {\n        var existingDefs = parsedQuery.definitions;\n\n        var viewingDefaultOperation = parsedQuery.definitions.length === 1 && parsedQuery.definitions[0] === DEFAULT_DOCUMENT.definitions[0];\n\n        var MySiblingDefs = viewingDefaultOperation ? [] : existingDefs.filter(function (def) {\n          if (def.kind === 'OperationDefinition') {\n            return def.operation === kind;\n          } else {\n            // Don't support adding fragments from explorer\n            return false;\n          }\n        });\n\n        var newOperationName = 'My' + capitalize(kind) + (MySiblingDefs.length === 0 ? '' : MySiblingDefs.length + 1);\n\n        // Add this as the default field as it guarantees a valid selectionSet\n        var firstFieldName = '__typename # Placeholder value';\n\n        var selectionSet = {\n          kind: 'SelectionSet',\n          selections: [{\n            kind: 'Field',\n            name: {\n              kind: 'Name',\n              value: firstFieldName,\n              loc: null\n            },\n            arguments: [],\n            directives: [],\n            selectionSet: null,\n            loc: null\n          }],\n          loc: null\n        };\n\n        var newDefinition = {\n          kind: 'OperationDefinition',\n          operation: kind,\n          name: { kind: 'Name', value: newOperationName },\n          variableDefinitions: [],\n          directives: [],\n          selectionSet: selectionSet,\n          loc: null\n        };\n\n        var newDefinitions =\n        // If we only have our default operation in the document right now, then\n        // just replace it with our new definition\n        viewingDefaultOperation ? [newDefinition] : [].concat(_toConsumableArray(parsedQuery.definitions), [newDefinition]);\n\n        var newOperationDef = _extends({}, parsedQuery, {\n          definitions: newDefinitions\n        });\n\n        _this15.setState({ operationToScrollTo: kind + '-' + newOperationName });\n\n        _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n      };\n\n      var actionsOptions = [!!queryFields ? React.createElement(\n        'option',\n        {\n          key: 'query',\n          className: 'toolbar-button',\n          style: styleConfig.styles.buttonStyle,\n          type: 'link',\n          value: 'query' },\n        'Query'\n      ) : null, !!mutationFields ? React.createElement(\n        'option',\n        {\n          key: 'mutation',\n          className: 'toolbar-button',\n          style: styleConfig.styles.buttonStyle,\n          type: 'link',\n          value: 'mutation' },\n        'Mutation'\n      ) : null, !!subscriptionFields ? React.createElement(\n        'option',\n        {\n          key: 'subscription',\n          className: 'toolbar-button',\n          style: styleConfig.styles.buttonStyle,\n          type: 'link',\n          value: 'subscription' },\n        'Subscription'\n      ) : null].filter(Boolean);\n\n      var actionsEl = actionsOptions.length === 0 ? null : React.createElement(\n        'div',\n        {\n          style: {\n            minHeight: '50px',\n            maxHeight: '50px',\n            overflow: 'none'\n          } },\n        React.createElement(\n          'form',\n          {\n            className: 'variable-editor-title graphiql-explorer-actions',\n            style: _extends({}, styleConfig.styles.explorerActionsStyle, {\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center',\n              borderTop: '1px solid rgb(214, 214, 214)'\n            }),\n            onSubmit: function onSubmit(event) {\n              return event.preventDefault();\n            } },\n          React.createElement(\n            'span',\n            {\n              style: {\n                display: 'inline-block',\n                flexGrow: '0',\n                textAlign: 'right'\n              } },\n            'Add new',\n            ' '\n          ),\n          React.createElement(\n            'select',\n            {\n              onChange: function onChange(event) {\n                return _this15._setAddOperationType(event.target.value);\n              },\n              value: this.state.newOperationType,\n              style: { flexGrow: '2' } },\n            actionsOptions\n          ),\n          React.createElement(\n            'button',\n            {\n              type: 'submit',\n              className: 'toolbar-button',\n              onClick: function onClick() {\n                return _this15.state.newOperationType ? addOperation(_this15.state.newOperationType) : null;\n              },\n              style: _extends({}, styleConfig.styles.buttonStyle, {\n                height: '22px',\n                width: '22px'\n              }) },\n            React.createElement(\n              'span',\n              null,\n              '+'\n            )\n          )\n        )\n      );\n\n      var availableFragments = relevantOperations.reduce(function (acc, operation) {\n        if (operation.kind === 'FragmentDefinition') {\n          var fragmentTypeName = operation.typeCondition.name.value;\n          var existingFragmentsForType = acc[fragmentTypeName] || [];\n          var newFragmentsForType = [].concat(_toConsumableArray(existingFragmentsForType), [operation]).sort(function (a, b) {\n            return a.name.value.localeCompare(b.name.value);\n          });\n          return _extends({}, acc, _defineProperty({}, fragmentTypeName, newFragmentsForType));\n        }\n\n        return acc;\n      }, {});\n\n      var attribution = this.props.showAttribution ? React.createElement(Attribution, null) : null;\n\n      return React.createElement(\n        'div',\n        {\n          ref: function ref(_ref15) {\n            _this15._ref = _ref15;\n          },\n          style: {\n            fontSize: 12,\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            margin: 0,\n            padding: 8,\n            fontFamily: 'Consolas, Inconsolata, \"Droid Sans Mono\", Monaco, monospace',\n            display: 'flex',\n            flexDirection: 'column',\n            height: '100%'\n          },\n          className: 'graphiql-explorer-root' },\n        React.createElement(\n          'div',\n          {\n            style: {\n              flexGrow: '1',\n              overflow: 'scroll'\n            } },\n          relevantOperations.map(function (operation, index) {\n            var operationName = operation && operation.name && operation.name.value;\n\n            var operationType = operation.kind === 'FragmentDefinition' ? 'fragment' : operation && operation.operation || 'query';\n\n            var onOperationRename = function onOperationRename(newName) {\n              var newOperationDef = renameOperation(operation, newName);\n              _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n            };\n\n            var onOperationClone = function onOperationClone() {\n              var newOperationDef = cloneOperation(operation);\n              _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n            };\n\n            var onOperationDestroy = function onOperationDestroy() {\n              var newOperationDef = destroyOperation(operation);\n              _this15.props.onEdit((0, _graphql.print)(newOperationDef));\n            };\n\n            var fragmentType = operation.kind === 'FragmentDefinition' && operation.typeCondition.kind === 'NamedType' && schema.getType(operation.typeCondition.name.value);\n\n            var fragmentFields = fragmentType instanceof _graphql.GraphQLObjectType ? fragmentType.getFields() : null;\n\n            var fields = operationType === 'query' ? queryFields : operationType === 'mutation' ? mutationFields : operationType === 'subscription' ? subscriptionFields : operation.kind === 'FragmentDefinition' ? fragmentFields : null;\n\n            var fragmentTypeName = operation.kind === 'FragmentDefinition' ? operation.typeCondition.name.value : null;\n\n            var onCommit = function onCommit(parsedDocument) {\n              var textualNewDocument = (0, _graphql.print)(parsedDocument);\n\n              _this15.props.onEdit(textualNewDocument);\n            };\n\n            return React.createElement(RootView, {\n              key: index,\n              isLast: index === relevantOperations.length - 1,\n              fields: fields,\n              operationType: operationType,\n              name: operationName,\n              definition: operation,\n              onOperationRename: onOperationRename,\n              onOperationDestroy: onOperationDestroy,\n              onOperationClone: onOperationClone,\n              onTypeName: fragmentTypeName,\n              onMount: _this15._handleRootViewMount,\n              onCommit: onCommit,\n              onEdit: function onEdit(newDefinition, options) {\n                var commit = void 0;\n                if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && typeof options.commit !== 'undefined') {\n                  commit = options.commit;\n                } else {\n                  commit = true;\n                }\n\n                if (!!newDefinition) {\n                  var newQuery = _extends({}, parsedQuery, {\n                    definitions: parsedQuery.definitions.map(function (existingDefinition) {\n                      return existingDefinition === operation ? newDefinition : existingDefinition;\n                    })\n                  });\n\n                  if (commit) {\n                    onCommit(newQuery);\n                    return newQuery;\n                  } else {\n                    return newQuery;\n                  }\n                } else {\n                  return parsedQuery;\n                }\n              },\n              schema: schema,\n              getDefaultFieldNames: getDefaultFieldNames,\n              getDefaultScalarArgValue: getDefaultScalarArgValue,\n              makeDefaultArg: makeDefaultArg,\n              onRunOperation: function onRunOperation() {\n                if (!!_this15.props.onRunOperation) {\n                  _this15.props.onRunOperation(operationName);\n                }\n              },\n              styleConfig: styleConfig,\n              availableFragments: availableFragments\n            });\n          }),\n          attribution\n        ),\n        actionsEl\n      );\n    }\n  }]);\n\n  return Explorer;\n}(React.PureComponent);\n\nExplorer.defaultProps = {\n  getDefaultFieldNames: defaultGetDefaultFieldNames,\n  getDefaultScalarArgValue: defaultGetDefaultScalarArgValue\n};\n\nvar ErrorBoundary = function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _ref16;\n\n    var _temp10, _this16, _ret12;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n      args[_key10] = arguments[_key10];\n    }\n\n    return _ret12 = (_temp10 = (_this16 = _possibleConstructorReturn(this, (_ref16 = ErrorBoundary.__proto__ || Object.getPrototypeOf(ErrorBoundary)).call.apply(_ref16, [this].concat(args))), _this16), _this16.state = { hasError: false, error: null, errorInfo: null }, _temp10), _possibleConstructorReturn(_this16, _ret12);\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: 'componentDidCatch',\n    value: function componentDidCatch(error, errorInfo) {\n      this.setState({ hasError: true, error: error, errorInfo: errorInfo });\n      console.error('Error in component', error, errorInfo);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.state.hasError) {\n        return React.createElement(\n          'div',\n          { style: { padding: 18, fontFamily: 'sans-serif' } },\n          React.createElement(\n            'div',\n            null,\n            'Something went wrong'\n          ),\n          React.createElement(\n            'details',\n            { style: { whiteSpace: 'pre-wrap' } },\n            this.state.error ? this.state.error.toString() : null,\n            React.createElement('br', null),\n            this.state.errorInfo ? this.state.errorInfo.componentStack : null\n          )\n        );\n      }\n      return this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar ExplorerWrapper = function (_React$PureComponent10) {\n  _inherits(ExplorerWrapper, _React$PureComponent10);\n\n  function ExplorerWrapper() {\n    _classCallCheck(this, ExplorerWrapper);\n\n    return _possibleConstructorReturn(this, (ExplorerWrapper.__proto__ || Object.getPrototypeOf(ExplorerWrapper)).apply(this, arguments));\n  }\n\n  _createClass(ExplorerWrapper, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(\n        'div',\n        {\n          className: 'docExplorerWrap',\n          style: {\n            height: '100%',\n            width: this.props.width,\n            minWidth: this.props.width,\n            zIndex: 7,\n            display: this.props.explorerIsOpen ? 'flex' : 'none',\n            flexDirection: 'column',\n            overflow: 'hidden'\n          } },\n        React.createElement(\n          'div',\n          { className: 'doc-explorer-title-bar' },\n          React.createElement(\n            'div',\n            { className: 'doc-explorer-title' },\n            this.props.title\n          ),\n          React.createElement(\n            'div',\n            { className: 'doc-explorer-rhs' },\n            React.createElement(\n              'div',\n              {\n                className: 'docExplorerHide',\n                onClick: this.props.onToggleExplorer },\n              '\\u2715'\n            )\n          )\n        ),\n        React.createElement(\n          'div',\n          {\n            className: 'doc-explorer-contents',\n            style: {\n              padding: '0px',\n              /* Unset overflowY since docExplorerWrap sets it and it'll\n              cause two scrollbars (one for the container and one for the schema tree) */\n              overflowY: 'unset'\n            } },\n          React.createElement(\n            ErrorBoundary,\n            null,\n            React.createElement(Explorer, this.props)\n          )\n        )\n      );\n    }\n  }]);\n\n  return ExplorerWrapper;\n}(React.PureComponent);\n\nExplorerWrapper.defaultValue = defaultValue;\nExplorerWrapper.defaultProps = {\n  width: 320,\n  title: 'Explorer'\n};\nexports.default = ExplorerWrapper;"]},"metadata":{},"sourceType":"script"}